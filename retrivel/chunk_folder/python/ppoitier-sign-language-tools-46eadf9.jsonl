{"filename": "src/sign_language_tools/__init__.py", "chunked_list": ["from sign_language_tools.pose import *\n\tfrom sign_language_tools.visualization import *\n"]}
{"filename": "src/sign_language_tools/pose/__init__.py", "chunked_list": ["from sign_language_tools.pose.mediapipe import *\n\tfrom sign_language_tools.pose.openpose import *\n\tfrom sign_language_tools.pose.transform import *\n"]}
{"filename": "src/sign_language_tools/pose/openpose/edges.py", "chunked_list": ["HAND_EDGES = (\n\t    (0, 1), (1, 2), (2, 3), (3, 4), (0, 5),\n\t    (5, 6), (6, 7), (7, 8), (0, 9), (9, 10),\n\t    (10, 11), (11, 12), (0, 13), (13, 14),\n\t    (14, 15), (15, 16), (0, 17), (17, 18),\n\t    (18, 19), (19, 20),\n\t)\n\tFACE_EDGES = (\n\t    (0, 1), (1, 2), (2, 3), (3, 4), (4, 5), (5, 6),\n\t    (6, 7), (7, 8), (8, 9), (9, 10), (10, 11), (11, 12), (12, 13),\n", "    (13, 14), (14, 15), (15, 16),\n\t    (17, 18), (18, 19), (19, 20), (20, 21),\n\t    (22, 23), (23, 24), (24, 25), (25, 26),\n\t    (27, 28), (28, 29), (29, 30),\n\t    (31, 32), (32, 33), (33, 34), (34, 35),\n\t    (36, 37), (37, 38), (38, 39), (39, 40), (40, 41), (41, 36),\n\t    (42, 43), (43, 44), (44, 45), (45, 46), (46, 47), (47, 42),\n\t    (48, 49), (49, 50), (50, 51), (51, 52), (52, 53), (53, 54),\n\t    (54, 55), (55, 56), (56, 57), (57, 58), (58, 59), (59, 48),\n\t    (60, 61), (61, 62), (62, 63), (63, 64), (64, 65), (65, 66),\n", "    (66, 67), (67, 60),\n\t)\n\tUPPER_POSE_EDGES = (\n\t    (17, 15), (15, 0), (0, 16), (16, 18),\n\t    (0, 1), (1, 8),\n\t    (1, 2), (2, 3), (3, 4),\n\t    (1, 5), (5, 6), (6, 7),\n\t)\n\tLOWER_POSE_EDGES = (\n\t    (8, 9), (9, 10), (10, 11), (11, 22), (11, 24), (22, 23),\n", "    (8, 12), (12, 13), (13, 14), (14, 19), (14, 21), (19, 20),\n\t)\n\tPOSE_EDGES = UPPER_POSE_EDGES + LOWER_POSE_EDGES\n"]}
{"filename": "src/sign_language_tools/pose/openpose/__init__.py", "chunked_list": []}
{"filename": "src/sign_language_tools/pose/openpose/utils.py", "chunked_list": ["import numpy as np\n\tdef from_json_to_np(pose_data: dict, dtype='float16') -> dict[str, np.ndarray]:\n\t    \"\"\" Convert OpenPose JSON data to a Numpy array.\n\t    Caution! This function does not handle multiple signers nor 3D landmarks.\n\t    Tested on OpenPose 1.3 2D features.\n\t    Args:\n\t        pose_data: dictionary containing OpenPose JSON data.\n\t        dtype: type used for each coordinate value (default=float16).\n\t    Returns:\n\t        pose_array: dictionary of numpy arrays of shape (N, D),\n", "            where N is the number of landmarks and D=2 the coordinates dimension.\n\t            Keys of the dictionary correspond to:\n\t                - pose -> 25 landmarks\n\t                - face -> 70 landmarks\n\t                - left_hand -> 21 landmarks\n\t                - right_hand -> 21 landmarks\n\t    \"\"\"\n\t    pose_arrays = {\n\t        'pose': np.full((25, 2), fill_value=np.nan, dtype=dtype),\n\t        'face': np.full((70, 2), fill_value=np.nan, dtype=dtype),\n", "        'left_hand': np.full((21, 2), fill_value=np.nan, dtype=dtype),\n\t        'right_hand': np.full((21, 2), fill_value=np.nan, dtype=dtype),\n\t    }\n\t    # Check if there is not any signer\n\t    if len(pose_data['people']) < 1:\n\t        return pose_arrays\n\t    pose_data = pose_data['people'][0]\n\t    # our key -> open pose key\n\t    key_matching = {\n\t        'pose': 'pose_keypoints_2d',\n", "        'face': 'face_keypoints_2d',\n\t        'left_hand': 'hand_left_keypoints_2d',\n\t        'right_hand': 'hand_right_keypoints_2d',\n\t    }\n\t    for key in key_matching:\n\t        data = pose_data[key_matching[key]]\n\t        if len(data) > 0:\n\t            pose_arrays[key] = np.array(data).reshape(-1, 3)[:, :2]\n\t    return pose_arrays\n"]}
{"filename": "src/sign_language_tools/pose/io/__init__.py", "chunked_list": []}
{"filename": "src/sign_language_tools/pose/io/read.py", "chunked_list": ["import pandas as pd\n\tdef read_landmarks_from_parquet(pq_path: str):\n\t    df = pd.read_parquet(pq_path)\n\t    return df.loc[:, ('x', 'y', 'z')].astype('float32').values.reshape(-1, 543, 3)\n"]}
{"filename": "src/sign_language_tools/pose/transform/compose.py", "chunked_list": ["class Compose:\n\t    def __init__(self, transforms: list[callable]):\n\t        self.transforms = transforms\n\t    def __call__(self, x):\n\t        for t in self.transforms:\n\t            x = t(x)\n\t        return x\n"]}
{"filename": "src/sign_language_tools/pose/transform/resample.py", "chunked_list": ["import numpy as np\n\timport sign_language_tools.pose.transform.functional as F\n\tclass Resample:\n\t    \"\"\"Resample a sequence of landmarks to a given length.\n\t    Interpolation is used to compute new landmarks. See `interpolation.get_landmark_interpolation_function`.\n\t    Args:\n\t        new_length: The new length to resample.\n\t        method: The method used to interpolate landmarks.\n\t    Returns:\n\t        resampled_landmarks: The sequence of landmarks that has been resampled to `new_length`.\n", "    \"\"\"\n\t    def __init__(self, new_length: int, method: str = 'linear'):\n\t        self.new_length = new_length\n\t        self.method = method\n\t    def __call__(self, pose_sequence: np.ndarray) -> np.ndarray:\n\t        # landmarks shape (T, N, C)\n\t        t = pose_sequence.shape[0]\n\t        x = np.linspace(0, t - 1, self.new_length)\n\t        f = F.get_landmark_interpolation_function(pose_sequence, self.method)\n\t        return f(x)\n"]}
{"filename": "src/sign_language_tools/pose/transform/normalize.py", "chunked_list": ["import numpy as np\n\tclass Standardization:\n\t    def __call__(self, pose_sequence: np.ndarray) -> np.ndarray:\n\t        mean = np.nanmean(pose_sequence)\n\t        std = np.nanstd(pose_sequence)\n\t        return (pose_sequence - mean) / std\n\tclass MinMaxNormalization:\n\t    def __call__(self, pose_sequence: np.ndarray) -> np.ndarray:\n\t        min_val = np.nanmin(pose_sequence)\n\t        max_val = np.nanmax(pose_sequence)\n", "        return (pose_sequence - min_val) / (max_val - min_val)\n"]}
{"filename": "src/sign_language_tools/pose/transform/filter.py", "chunked_list": ["import numpy as np\n\tclass FilterEmpty:\n\t    def __call__(self, pose_sequence: np.ndarray) -> np.ndarray:\n\t        return pose_sequence[~np.isnan(pose_sequence).all(axis=1).any(axis=1)]\n"]}
{"filename": "src/sign_language_tools/pose/transform/__init__.py", "chunked_list": ["from sign_language_tools.pose.transform.compose import *\n\tfrom sign_language_tools.pose.transform.filter import *\n\tfrom sign_language_tools.pose.transform.flip import *\n\tfrom sign_language_tools.pose.transform.interpolate import *\n\tfrom sign_language_tools.pose.transform.noise import *\n\tfrom sign_language_tools.pose.transform.normalize import *\n\tfrom sign_language_tools.pose.transform.resample import *\n\tfrom sign_language_tools.pose.transform.rotate import *\n\tfrom sign_language_tools.pose.transform.scale import *\n\tfrom sign_language_tools.pose.transform.smooth import *\n", "from sign_language_tools.pose.transform.translation import *\n"]}
{"filename": "src/sign_language_tools/pose/transform/smooth.py", "chunked_list": ["import numpy as np\n\tfrom scipy.signal import savgol_filter\n\tclass SavitchyGolayFiltering:\n\t    def __init__(self, window_length: int, polynom_order: int):\n\t        self.window_length = window_length\n\t        self.polynom_order = polynom_order\n\t    def __call__(self, pose_sequence: np.ndarray):\n\t        return np.apply_along_axis(\n\t            lambda seq: savgol_filter(seq, self.window_length, self.polynom_order),\n\t            axis=0,\n", "            arr=pose_sequence,\n\t        )\n"]}
{"filename": "src/sign_language_tools/pose/transform/interpolate.py", "chunked_list": ["import numpy as np\n\timport sign_language_tools.pose.transform.functional as F\n\tclass InterpolateMissing:\n\t    \"\"\"\n\t    Compute missing landmarks (NaN coordinates) in a pose sequence using an interpolation function.\n\t    See `get_landmark_interpolation_function` for more information about the interpolation.\n\t    Args:\n\t        method: Specify the method used to compute the interpolated landmarks.\n\t            - `linear`\n\t            - `nearest`\n", "            - `previous`\n\t            - `next`\n\t    Returns:\n\t        interpolated_landmarks: Tensor containing observed and interpolated landmarks.\n\t    Author:\n\t        ppoitier (v1 03.04.2023)\n\t    \"\"\"\n\t    def __init__(self, method: str = 'linear'):\n\t        self.method = method\n\t    def __call__(self, pose_sequence: np.ndarray):\n", "        \"\"\"\n\t        Args:\n\t            pose_sequence: Pose sequence containing observed and missing landmarks (NaN values).\n\t        Returns:\n\t            Pose sequence where missing landmarks have been replaced by interpolated landmarks.\n\t        \"\"\"\n\t        f = F.get_landmark_interpolation_function(pose_sequence, self.method)\n\t        return f(np.arange(pose_sequence.shape[0]))\n"]}
{"filename": "src/sign_language_tools/pose/transform/noise.py", "chunked_list": ["import numpy as np\n\tclass GaussianNoise:\n\t    def __init__(self, scale: float):\n\t        self.scale = scale\n\t    def __call__(self, landmarks: np.ndarray):\n\t        noise = np.random.normal(scale=self.scale, size=landmarks.shape)\n\t        return landmarks + noise\n"]}
{"filename": "src/sign_language_tools/pose/transform/padding.py", "chunked_list": ["import numpy as np\n\tclass Padding:\n\t    def __init__(\n\t            self,\n\t            min_length: int,\n\t            location='right',\n\t            mode: str = 'constant',\n\t            constant_value: float = 0.0,\n\t    ):\n\t        self.min_length = min_length\n", "        self.location = location\n\t        self.mode = mode\n\t        self.constant_value = constant_value\n\t    def __call__(self, pose_sequence: np.ndarray) -> np.ndarray:\n\t        if pose_sequence.shape[0] >= self.location:\n\t            return pose_sequence\n\t        padding = self.min_length - pose_sequence.shape[0]\n\t        if self.location == 'right':\n\t            pad_width = ((0, padding), (0, 0), (0, 0))\n\t        else:\n", "            pad_width = ((padding, 0), (0, 0), (0, 0))\n\t        return np.pad(pose_sequence, pad_width, mode=self.mode, constant_values=self.constant_value)\n"]}
{"filename": "src/sign_language_tools/pose/transform/flip.py", "chunked_list": ["import numpy as np\n\tclass HorizontalFlip:\n\t    def __call__(self, landmarks: np.ndarray):\n\t        landmarks[:, :, 0] = 1 - landmarks[:, :, 0]\n\t        return landmarks\n"]}
{"filename": "src/sign_language_tools/pose/transform/rotate.py", "chunked_list": ["import numpy as np\n\timport random\n\tfrom math import cos, sin, pi\n\tclass Rotation2D:\n\t    def __init__(self, angle: float, center=(0.5, 0.5)):\n\t        self.center = center\n\t        self.angle = angle\n\t    def __call__(self, landmarks: np.ndarray):\n\t        cx, cy = self.center\n\t        r = self.angle\n", "        x = landmarks[:, :, 0].copy() - cx\n\t        y = landmarks[:, :, 1].copy() - cy\n\t        landmarks[:, :, 0] = x * cos(r) - y * sin(r) + cx\n\t        landmarks[:, :, 1] = x * sin(r) + y * cos(r) + cy\n\t        return landmarks\n\tclass RandomRotation2D(Rotation2D):\n\t    def __init__(self, angle_range=(0, 2*pi), center=(0.5, 0.5)):\n\t        r0, r1 = angle_range\n\t        angle = random.uniform(r0, r1)\n\t        super().__init__(angle, center)\n"]}
{"filename": "src/sign_language_tools/pose/transform/translation.py", "chunked_list": ["import numpy as np\n\timport random\n\tclass Translation:\n\t    def __init__(self, dx: float, dy: float):\n\t        self.dx = dx\n\t        self.dy = dy\n\t    def __call__(self, landmarks: np.ndarray):\n\t        landmarks[:, :, 0] += self.dx\n\t        landmarks[:, :, 1] += self.dy\n\t        return landmarks\n", "class RandomTranslation(Translation):\n\t    def __init__(self, dx_range=(-0.2, 0.2), dy_range=(-0.2, 0.2)):\n\t        dx = random.uniform(*dx_range)\n\t        dy = random.uniform(*dy_range)\n\t        super().__init__(dx, dy)\n"]}
{"filename": "src/sign_language_tools/pose/transform/scale.py", "chunked_list": ["import numpy as np\n\tclass Scale:\n\t    def __init__(self, scaling_factor: float, center=(0.5, 0.5)):\n\t        self.dx = (scaling_factor * center[0]) - center[0]\n\t        self.dy = (scaling_factor * center[1]) - center[1]\n\t        self.scaling_factor = scaling_factor\n\t    def __call__(self, landmarks: np.ndarray):\n\t        landmarks[:, :, :] *= self.scaling_factor\n\t        landmarks[:, :, 0] -= self.dx\n\t        landmarks[:, :, 1] -= self.dy\n", "        return landmarks\n"]}
{"filename": "src/sign_language_tools/pose/transform/functional/__init__.py", "chunked_list": ["from sign_language_tools.pose.transform.functional.interpolation import *\n"]}
{"filename": "src/sign_language_tools/pose/transform/functional/interpolation.py", "chunked_list": ["import numpy as np\n\tfrom scipy.interpolate import interp1d\n\tdef get_landmark_interpolation_function(landmarks: np.ndarray, method: str = 'linear') -> callable:\n\t    \"\"\"Return an approximation of the function f(t) = Y_t where t is any instant and Y the landmarks\n\t    corresponding to it. For any given t, the function f uses interpolation to compute the resulting Y_t\n\t    given the observed data.\n\t    Example:\n\t        ```\n\t        # We have landmarks of shape (T, N, D)\n\t        f = get_landmark_interpolation_function(landmarks)\n", "        interpolated_landmark = f(7.32)\n\t        ```\n\t    Args:\n\t        landmarks: Observed landmarks used to compute the interpolation when needed.\n\t        method: Specify the method used to compute the interpolated landmarks:\n\t            - `linear`\n\t            - `nearest`\n\t            - `previous`\n\t            - `next`\n\t    Returns:\n", "        interp_func: the interpolation function\n\t    Author:\n\t        ppoitier (v1 03.04.2023)\n\t    \"\"\"\n\t    # landmarks shape (T, N, C)\n\t    t = landmarks.shape[0]\n\t    x = np.argwhere(~np.isnan(landmarks.reshape(t, -1)).any(axis=1)).reshape(-1)\n\t    y = landmarks[x]\n\t    if len(y) < 2:\n\t        method = 'nearest'\n", "    return interp1d(\n\t        x,\n\t        y,\n\t        kind=method,\n\t        axis=0,\n\t        assume_sorted=True,\n\t        bounds_error=False,\n\t        fill_value='extrapolate',\n\t    )\n\tdef fill_empty_landmark_sequences(landmarks: np.ndarray, fill_values: float):\n", "    landmarks[:, np.isnan(landmarks).all(axis=0).all(axis=1), :] = fill_values\n\t    return landmarks\n"]}
{"filename": "src/sign_language_tools/pose/mediapipe/edges.py", "chunked_list": ["from sign_language_tools.pose.mediapipe.facemesh import FACEMESH_CONTOURS\n\t__all__ = [\n\t    'LIPS_EDGES',\n\t    'HAND_EDGES',\n\t    'UPPER_POSE_EDGES',\n\t    'LOWER_POSE_EDGES',\n\t    'POSE_EDGES',\n\t    'FACE_EDGES',\n\t]\n\tLIPS_EDGES = (\n", "    (0, 11), (11, 12), (12, 13), (13, 14), (14, 15),\n\t    (15, 16), (16, 17), (17, 18), (18, 19), (19, 10),\n\t    (0, 1), (1, 2), (2, 3), (3, 4), (4, 5),\n\t    (5, 6), (6, 7), (7, 8), (8, 9), (9, 10),\n\t    (20, 30), (30, 31), (31, 32), (32, 33), (33, 34),\n\t    (34, 35), (35, 36), (36, 37), (37, 38), (38, 39),\n\t    (20, 21), (21, 22), (22, 23), (23, 24), (24, 25),\n\t    (25, 26), (26, 27), (27, 28), (28, 29), (29, 39)\n\t)\n\tHAND_EDGES = (\n", "    (3, 4), (0, 5), (17, 18), (0, 17),\n\t    (13, 14), (13, 17), (18, 19), (5, 6),\n\t    (5, 9), (14, 15), (0, 1), (9, 10),\n\t    (1, 2), (9, 13), (10, 11), (19, 20),\n\t    (6, 7), (15, 16), (2, 3), (11, 12),\n\t    (7, 8),\n\t)\n\tUPPER_POSE_EDGES = (\n\t    (15, 21), (16, 20), (18, 20), (3, 7),\n\t    (14, 16), (6, 8), (15, 17), (16, 22),\n", "    (4, 5), (5, 6), (0, 1), (9, 10),\n\t    (1, 2), (0, 4), (11, 13), (15, 19),\n\t    (16, 18), (12, 14), (17, 19), (2, 3),\n\t    (11, 12), (13, 15),\n\t)\n\tLOWER_POSE_EDGES = (\n\t    (11, 23), (12, 24), (23, 24), (23, 25),\n\t    (24, 26), (25, 27), (26, 28), (27, 29),\n\t    (28, 30), (29, 31), (30, 32), (27, 31),\n\t    (28, 32),\n", ")\n\tPOSE_EDGES = LOWER_POSE_EDGES + UPPER_POSE_EDGES\n\tFACE_EDGES = FACEMESH_CONTOURS\n"]}
{"filename": "src/sign_language_tools/pose/mediapipe/extraction.py", "chunked_list": ["import numpy as np\n\timport os\n\timport sign_language_tools.pose.mediapipe.utils as utils\n\tdef extract_landmarks(video_path: str, **kwargs):\n\t    results = utils.extract_landmarks_from_video_file(video_path, **kwargs)\n\t    face = np.stack([utils.landmarks_to_np(frame_result.face_landmarks, 478) for frame_result in results])\n\t    pose = np.stack([utils.landmarks_to_np(frame_result.pose_landmarks, 33) for frame_result in results])\n\t    left_hand = np.stack([utils.landmarks_to_np(frame_result.left_hand_landmarks, 21) for frame_result in results])\n\t    right_hand = np.stack([utils.landmarks_to_np(frame_result.right_hand_landmarks, 21) for frame_result in results])\n\t    return face, pose, left_hand, right_hand\n", "def extract_and_save_landmarks(video_path: str, video_id: str, dest_path: str = './', **kwargs):\n\t    face, pose, left_hand, right_hand = extract_landmarks(video_path, **kwargs)\n\t    np.save(os.path.join(dest_path, 'face', video_id), face)\n\t    np.save(os.path.join(dest_path, 'pose', video_id), pose)\n\t    np.save(os.path.join(dest_path, 'left_hand', video_id), left_hand)\n\t    np.save(os.path.join(dest_path, 'right_hand', video_id), right_hand)\n"]}
{"filename": "src/sign_language_tools/pose/mediapipe/__init__.py", "chunked_list": []}
{"filename": "src/sign_language_tools/pose/mediapipe/utils.py", "chunked_list": ["from typing import Optional\n\timport cv2\n\timport mediapipe as mp\n\timport numpy as np\n\tfrom tqdm import tqdm\n\tmp_holistic = mp.solutions.holistic\n\tdef extract_landmarks_from_video_file(\n\t        video_path: str,\n\t        options: Optional[dict] = None,\n\t        show_progress: bool = False,\n", "        frame_range: Optional[tuple[int, int]] = None,\n\t):\n\t    if options is None:\n\t        options = {\n\t            'static_image_mode': False,\n\t            'model_complexity': 2,\n\t            'refine_face_landmarks': True,\n\t            'smooth_landmarks': True,\n\t            'min_detection_confidence': 0.5,\n\t            'min_tracking_confidence': 0.5,\n", "            'enable_segmentation': False,\n\t            'smooth_segmentation': False,\n\t        }\n\t    cap = cv2.VideoCapture(video_path)\n\t    n_frames = int(cap.get(cv2.CAP_PROP_FRAME_COUNT))\n\t    if frame_range is None:\n\t        frame_range = range(n_frames)\n\t    else:\n\t        start, end = frame_range\n\t        cap.set(cv2.CAP_PROP_POS_FRAMES, start)\n", "        frame_range = range(start, end)\n\t    results = []\n\t    with mp_holistic.Holistic(**options) as holistic:\n\t        for frame_idx in tqdm(frame_range, disable=(not show_progress), unit='frame'):\n\t            success, image = cap.read()\n\t            if not success:\n\t                tqdm.write(f'Could not read frame #{frame_idx}')\n\t                break\n\t            image.flags.writeable = False\n\t            image = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)\n", "            image_results = holistic.process(image)\n\t            results.append(image_results)\n\t    cap.release()\n\t    return results\n\tdef landmarks_to_np(landmarks, n_landmarks: int, dtype='float16', fill_value=np.nan):\n\t    if landmarks is None:\n\t        return np.full((n_landmarks, 3), fill_value=fill_value, dtype=dtype)\n\t    return np.array([(lm.x, lm.y, lm.z) for lm in landmarks.landmark], dtype=dtype)\n"]}
{"filename": "src/sign_language_tools/pose/mediapipe/facemesh.py", "chunked_list": ["FACEMESH_TESSELATION = (\n\t    (127, 34),  (34, 139),  (139, 127), (11, 0),    (0, 37),    (37, 11),\n\t    (232, 231), (231, 120), (120, 232), (72, 37),   (37, 39),   (39, 72),\n\t    (128, 121), (121, 47),  (47, 128),  (232, 121), (121, 128), (128, 232),\n\t    (104, 69),  (69, 67),   (67, 104),  (175, 171), (171, 148), (148, 175),\n\t    (118, 50),  (50, 101),  (101, 118), (73, 39),   (39, 40),   (40, 73),\n\t    (9, 151),   (151, 108), (108, 9),   (48, 115),  (115, 131), (131, 48),\n\t    (194, 204), (204, 211), (211, 194), (74, 40),   (40, 185),  (185, 74),\n\t    (80, 42),   (42, 183),  (183, 80),  (40, 92),   (92, 186),  (186, 40),\n\t    (230, 229), (229, 118), (118, 230), (202, 212), (212, 214), (214, 202),\n", "    (83, 18),   (18, 17),   (17, 83),   (76, 61),   (61, 146),  (146, 76),\n\t    (160, 29),  (29, 30),   (30, 160),  (56, 157),  (157, 173), (173, 56),\n\t    (106, 204), (204, 194), (194, 106), (135, 214), (214, 192), (192, 135),\n\t    (203, 165), (165, 98),  (98, 203),  (21, 71),   (71, 68),   (68, 21),\n\t    (51, 45),   (45, 4),    (4, 51),    (144, 24),  (24, 23),   (23, 144),\n\t    (77, 146),  (146, 91),  (91, 77),   (205, 50),  (50, 187),  (187, 205),\n\t    (201, 200), (200, 18),  (18, 201),  (91, 106),  (106, 182), (182, 91),\n\t    (90, 91),   (91, 181),  (181, 90),  (85, 84),   (84, 17),   (17, 85),\n\t    (206, 203), (203, 36),  (36, 206),  (148, 171), (171, 140), (140, 148),\n\t    (92, 40),   (40, 39),   (39, 92),   (193, 189), (189, 244), (244, 193),\n", "    (159, 158), (158, 28),  (28, 159),  (247, 246), (246, 161), (161, 247),\n\t    (236, 3),   (3, 196),   (196, 236), (54, 68),   (68, 104),  (104, 54),\n\t    (193, 168), (168, 8),   (8, 193),   (117, 228), (228, 31),  (31, 117),\n\t    (189, 193), (193, 55),  (55, 189),  (98, 97),   (97, 99),   (99, 98),\n\t    (126, 47),  (47, 100),  (100, 126), (166, 79),  (79, 218),  (218, 166),\n\t    (155, 154), (154, 26),  (26, 155),  (209, 49),  (49, 131),  (131, 209),\n\t    (135, 136), (136, 150), (150, 135), (47, 126),  (126, 217), (217, 47),\n\t    (223, 52),  (52, 53),   (53, 223),  (45, 51),   (51, 134),  (134, 45),\n\t    (211, 170), (170, 140), (140, 211), (67, 69),   (69, 108),  (108, 67),\n\t    (43, 106),  (106, 91),  (91, 43),   (230, 119), (119, 120), (120, 230),\n", "    (226, 130), (130, 247), (247, 226), (63, 53),   (53, 52),   (52, 63),\n\t    (238, 20),  (20, 242),  (242, 238), (46, 70),   (70, 156),  (156, 46),\n\t    (78, 62),   (62, 96),   (96, 78),   (46, 53),   (53, 63),   (63, 46),\n\t    (143, 34),  (34, 227),  (227, 143), (123, 117), (117, 111), (111, 123),\n\t    (44, 125),  (125, 19),  (19, 44),   (236, 134), (134, 51),  (51, 236),\n\t    (216, 206), (206, 205), (205, 216), (154, 153), (153, 22),  (22, 154),\n\t    (39, 37),   (37, 167),  (167, 39),  (200, 201), (201, 208), (208, 200),\n\t    (36, 142),  (142, 100), (100, 36),  (57, 212),  (212, 202), (202, 57),\n\t    (20, 60),   (60, 99),   (99, 20),   (28, 158),  (158, 157), (157, 28),\n\t    (35, 226),  (226, 113), (113, 35),  (160, 159), (159, 27),  (27, 160),\n", "    (204, 202), (202, 210), (210, 204), (113, 225), (225, 46),  (46, 113),\n\t    (43, 202),  (202, 204), (204, 43),  (62, 76),   (76, 77),   (77, 62),\n\t    (137, 123), (123, 116), (116, 137), (41, 38),   (38, 72),   (72, 41),\n\t    (203, 129), (129, 142), (142, 203), (64, 98),   (98, 240),  (240, 64),\n\t    (49, 102),  (102, 64),  (64, 49),   (41, 73),   (73, 74),   (74, 41),\n\t    (212, 216), (216, 207), (207, 212), (42, 74),   (74, 184),  (184, 42),\n\t    (169, 170), (170, 211), (211, 169), (170, 149), (149, 176), (176, 170),\n\t    (105, 66),  (66, 69),   (69, 105),  (122, 6),   (6, 168),   (168, 122),\n\t    (123, 147), (147, 187), (187, 123), (96, 77),   (77, 90),   (90, 96),\n\t    (65, 55),   (55, 107),  (107, 65),  (89, 90),   (90, 180),  (180, 89),\n", "    (101, 100), (100, 120), (120, 101), (63, 105),  (105, 104), (104, 63),\n\t    (93, 137),  (137, 227), (227, 93),  (15, 86),   (86, 85),   (85, 15),\n\t    (129, 102), (102, 49),  (49, 129),  (14, 87),   (87, 86),   (86, 14),\n\t    (55, 8),    (8, 9),     (9, 55),    (100, 47),  (47, 121),  (121, 100),\n\t    (145, 23),  (23, 22),   (22, 145),  (88, 89),   (89, 179),  (179, 88),\n\t    (6, 122),   (122, 196), (196, 6),   (88, 95),   (95, 96),   (96, 88),\n\t    (138, 172), (172, 136), (136, 138), (215, 58),  (58, 172),  (172, 215),\n\t    (115, 48),  (48, 219),  (219, 115), (42, 80),   (80, 81),   (81, 42),\n\t    (195, 3),   (3, 51),    (51, 195),  (43, 146),  (146, 61),  (61, 43),\n\t    (171, 175), (175, 199), (199, 171), (81, 82),   (82, 38),   (38, 81),\n", "    (53, 46),   (46, 225),  (225, 53),  (144, 163), (163, 110), (110, 144),\n\t    (52, 65),   (65, 66),   (66, 52),   (229, 228), (228, 117), (117, 229),\n\t    (34, 127),  (127, 234), (234, 34),  (107, 108), (108, 69),  (69, 107),\n\t    (109, 108), (108, 151), (151, 109), (48, 64),   (64, 235),  (235, 48),\n\t    (62, 78),   (78, 191),  (191, 62),  (129, 209), (209, 126), (126, 129),\n\t    (111, 35),  (35, 143),  (143, 111), (117, 123), (123, 50),  (50, 117),\n\t    (222, 65),  (65, 52),   (52, 222),  (19, 125),  (125, 141), (141, 19),\n\t    (221, 55),  (55, 65),   (65, 221),  (3, 195),   (195, 197), (197, 3),\n\t    (25, 7),    (7, 33),    (33, 25),   (220, 237), (237, 44),  (44, 220),\n\t    (70, 71),   (71, 139),  (139, 70),  (122, 193), (193, 245), (245, 122),\n", "    (247, 130), (130, 33),  (33, 247),  (71, 21),   (21, 162),  (162, 71),\n\t    (170, 169), (169, 150), (150, 170), (188, 174), (174, 196), (196, 188),\n\t    (216, 186), (186, 92),  (92, 216),  (2, 97),    (97, 167),  (167, 2),\n\t    (141, 125), (125, 241), (241, 141), (164, 167), (167, 37),  (37, 164),\n\t    (72, 38),   (38, 12),   (12, 72),   (38, 82),   (82, 13),   (13, 38),\n\t    (63, 68),   (68, 71),   (71, 63),   (226, 35),  (35, 111),  (111, 226),\n\t    (101, 50),  (50, 205),  (205, 101), (206, 92),  (92, 165),  (165, 206),\n\t    (209, 198), (198, 217), (217, 209), (165, 167), (167, 97),  (97, 165),\n\t    (220, 115), (115, 218), (218, 220), (133, 112), (112, 243), (243, 133),\n\t    (239, 238), (238, 241), (241, 239), (214, 135), (135, 169), (169, 214),\n", "    (190, 173), (173, 133), (133, 190), (171, 208), (208, 32),  (32, 171),\n\t    (125, 44),  (44, 237),  (237, 125), (86, 87),   (87, 178),  (178, 86),\n\t    (85, 86),   (86, 179),  (179, 85),  (84, 85),   (85, 180),  (180, 84),\n\t    (83, 84),   (84, 181),  (181, 83),  (201, 83),  (83, 182),  (182, 201),\n\t    (137, 93),  (93, 132),  (132, 137), (76, 62),   (62, 183),  (183, 76),\n\t    (61, 76),   (76, 184),  (184, 61),  (57, 61),   (61, 185),  (185, 57),\n\t    (212, 57),  (57, 186),  (186, 212), (214, 207), (207, 187), (187, 214),\n\t    (34, 143),  (143, 156), (156, 34),  (79, 239),  (239, 237), (237, 79),\n\t    (123, 137), (137, 177), (177, 123), (44, 1),    (1, 4),     (4, 44),\n\t    (201, 194), (194, 32),  (32, 201),  (64, 102),  (102, 129), (129, 64),\n", "    (213, 215), (215, 138), (138, 213), (59, 166),  (166, 219), (219, 59),\n\t    (242, 99),  (99, 97),   (97, 242),  (2, 94),    (94, 141),  (141, 2),\n\t    (75, 59),   (59, 235),  (235, 75),  (24, 110),  (110, 228), (228, 24),\n\t    (25, 130),  (130, 226), (226, 25),  (23, 24),   (24, 229),  (229, 23),\n\t    (22, 23),   (23, 230),  (230, 22),  (26, 22),   (22, 231),  (231, 26),\n\t    (112, 26),  (26, 232),  (232, 112), (189, 190), (190, 243), (243, 189),\n\t    (221, 56),  (56, 190),  (190, 221), (28, 56),   (56, 221),  (221, 28),\n\t    (27, 28),   (28, 222),  (222, 27),  (29, 27),   (27, 223),  (223, 29),\n\t    (30, 29),   (29, 224),  (224, 30),  (247, 30),  (30, 225),  (225, 247),\n\t    (238, 79),  (79, 20),   (20, 238),  (166, 59),  (59, 75),   (75, 166),\n", "    (60, 75),   (75, 240),  (240, 60),  (147, 177), (177, 215), (215, 147),\n\t    (20, 79),   (79, 166),  (166, 20),  (187, 147), (147, 213), (213, 187),\n\t    (112, 233), (233, 244), (244, 112), (233, 128), (128, 245), (245, 233),\n\t    (128, 114), (114, 188), (188, 128), (114, 217), (217, 174), (174, 114),\n\t    (131, 115), (115, 220), (220, 131), (217, 198), (198, 236), (236, 217),\n\t    (198, 131), (131, 134), (134, 198), (177, 132), (132, 58),  (58, 177),\n\t    (143, 35),  (35, 124),  (124, 143), (110, 163), (163, 7),   (7, 110),\n\t    (228, 110), (110, 25),  (25, 228),  (356, 389), (389, 368), (368, 356),\n\t    (11, 302),  (302, 267), (267, 11),  (452, 350), (350, 349), (349, 452),\n\t    (302, 303), (303, 269), (269, 302), (357, 343), (343, 277), (277, 357),\n", "    (452, 453), (453, 357), (357, 452), (333, 332), (332, 297), (297, 333),\n\t    (175, 152), (152, 377), (377, 175), (347, 348), (348, 330), (330, 347),\n\t    (303, 304), (304, 270), (270, 303), (9, 336),   (336, 337), (337, 9),\n\t    (278, 279), (279, 360), (360, 278), (418, 262), (262, 431), (431, 418),\n\t    (304, 408), (408, 409), (409, 304), (310, 415), (415, 407), (407, 310),\n\t    (270, 409), (409, 410), (410, 270), (450, 348), (348, 347), (347, 450),\n\t    (422, 430), (430, 434), (434, 422), (313, 314), (314, 17),  (17, 313),\n\t    (306, 307), (307, 375), (375, 306), (387, 388), (388, 260), (260, 387),\n\t    (286, 414), (414, 398), (398, 286), (335, 406), (406, 418), (418, 335),\n\t    (364, 367), (367, 416), (416, 364), (423, 358), (358, 327), (327, 423),\n", "    (251, 284), (284, 298), (298, 251), (281, 5),   (5, 4),     (4, 281),\n\t    (373, 374), (374, 253), (253, 373), (307, 320), (320, 321), (321, 307),\n\t    (425, 427), (427, 411), (411, 425), (421, 313), (313, 18),  (18, 421),\n\t    (321, 405), (405, 406), (406, 321), (320, 404), (404, 405), (405, 320),\n\t    (315, 16),  (16, 17),   (17, 315),  (426, 425), (425, 266), (266, 426),\n\t    (377, 400), (400, 369), (369, 377), (322, 391), (391, 269), (269, 322),\n\t    (417, 465), (465, 464), (464, 417), (386, 257), (257, 258), (258, 386),\n\t    (466, 260), (260, 388), (388, 466), (456, 399), (399, 419), (419, 456),\n\t    (284, 332), (332, 333), (333, 284), (417, 285), (285, 8),   (8, 417),\n\t    (346, 340), (340, 261), (261, 346), (413, 441), (441, 285), (285, 413),\n", "    (327, 460), (460, 328), (328, 327), (355, 371), (371, 329), (329, 355),\n\t    (392, 439), (439, 438), (438, 392), (382, 341), (341, 256), (256, 382),\n\t    (429, 420), (420, 360), (360, 429), (364, 394), (394, 379), (379, 364),\n\t    (277, 343), (343, 437), (437, 277), (443, 444), (444, 283), (283, 443),\n\t    (275, 440), (440, 363), (363, 275), (431, 262), (262, 369), (369, 431),\n\t    (297, 338), (338, 337), (337, 297), (273, 375), (375, 321), (321, 273),\n\t    (450, 451), (451, 349), (349, 450), (446, 342), (342, 467), (467, 446),\n\t    (293, 334), (334, 282), (282, 293), (458, 461), (461, 462), (462, 458),\n\t    (276, 353), (353, 383), (383, 276), (308, 324), (324, 325), (325, 308),\n\t    (276, 300), (300, 293), (293, 276), (372, 345), (345, 447), (447, 372),\n", "    (352, 345), (345, 340), (340, 352), (274, 1),   (1, 19),    (19, 274),\n\t    (456, 248), (248, 281), (281, 456), (436, 427), (427, 425), (425, 436),\n\t    (381, 256), (256, 252), (252, 381), (269, 391), (391, 393), (393, 269),\n\t    (200, 199), (199, 428), (428, 200), (266, 330), (330, 329), (329, 266),\n\t    (287, 273), (273, 422), (422, 287), (250, 462), (462, 328), (328, 250),\n\t    (258, 286), (286, 384), (384, 258), (265, 353), (353, 342), (342, 265),\n\t    (387, 259), (259, 257), (257, 387), (424, 431), (431, 430), (430, 424),\n\t    (342, 353), (353, 276), (276, 342), (273, 335), (335, 424), (424, 273),\n\t    (292, 325), (325, 307), (307, 292), (366, 447), (447, 345), (345, 366),\n\t    (271, 303), (303, 302), (302, 271), (423, 266), (266, 371), (371, 423),\n", "    (294, 455), (455, 460), (460, 294), (279, 278), (278, 294), (294, 279),\n\t    (271, 272), (272, 304), (304, 271), (432, 434), (434, 427), (427, 432),\n\t    (272, 407), (407, 408), (408, 272), (394, 430), (430, 431), (431, 394),\n\t    (395, 369), (369, 400), (400, 395), (334, 333), (333, 299), (299, 334),\n\t    (351, 417), (417, 168), (168, 351), (352, 280), (280, 411), (411, 352),\n\t    (325, 319), (319, 320), (320, 325), (295, 296), (296, 336), (336, 295),\n\t    (319, 403), (403, 404), (404, 319), (330, 348), (348, 349), (349, 330),\n\t    (293, 298), (298, 333), (333, 293), (323, 454), (454, 447), (447, 323),\n\t    (15, 16),   (16, 315),  (315, 15),  (358, 429), (429, 279), (279, 358),\n\t    (14, 15),   (15, 316),  (316, 14),  (285, 336), (336, 9),   (9, 285),\n", "    (329, 349), (349, 350), (350, 329), (374, 380), (380, 252), (252, 374),\n\t    (318, 402), (402, 403), (403, 318), (6, 197),   (197, 419), (419, 6),\n\t    (318, 319), (319, 325), (325, 318), (367, 364), (364, 365), (365, 367),\n\t    (435, 367), (367, 397), (397, 435), (344, 438), (438, 439), (439, 344),\n\t    (272, 271), (271, 311), (311, 272), (195, 5),   (5, 281),   (281, 195),\n\t    (273, 287), (287, 291), (291, 273), (396, 428), (428, 199), (199, 396),\n\t    (311, 271), (271, 268), (268, 311), (283, 444), (444, 445), (445, 283),\n\t    (373, 254), (254, 339), (339, 373), (282, 334), (334, 296), (296, 282),\n\t    (449, 347), (347, 346), (346, 449), (264, 447), (447, 454), (454, 264),\n\t    (336, 296), (296, 299), (299, 336), (338, 10),  (10, 151),  (151, 338),\n", "    (278, 439), (439, 455), (455, 278), (292, 407), (407, 415), (415, 292),\n\t    (358, 371), (371, 355), (355, 358), (340, 345), (345, 372), (372, 340),\n\t    (346, 347), (347, 280), (280, 346), (442, 443), (443, 282), (282, 442),\n\t    (19, 94),   (94, 370),  (370, 19),  (441, 442), (442, 295), (295, 441),\n\t    (248, 419), (419, 197), (197, 248), (263, 255), (255, 359), (359, 263),\n\t    (440, 275), (275, 274), (274, 440), (300, 383), (383, 368), (368, 300),\n\t    (351, 412), (412, 465), (465, 351), (263, 467), (467, 466), (466, 263),\n\t    (301, 368), (368, 389), (389, 301), (395, 378), (378, 379), (379, 395),\n\t    (412, 351), (351, 419), (419, 412), (436, 426), (426, 322), (322, 436),\n\t    (2, 164),   (164, 393), (393, 2),   (370, 462), (462, 461), (461, 370),\n", "    (164, 0),   (0, 267),   (267, 164), (302, 11),  (11, 12),   (12, 302),\n\t    (268, 12),  (12, 13),   (13, 268),  (293, 300), (300, 301), (301, 293),\n\t    (446, 261), (261, 340), (340, 446), (330, 266), (266, 425), (425, 330),\n\t    (426, 423), (423, 391), (391, 426), (429, 355), (355, 437), (437, 429),\n\t    (391, 327), (327, 326), (326, 391), (440, 457), (457, 438), (438, 440),\n\t    (341, 382), (382, 362), (362, 341), (459, 457), (457, 461), (461, 459),\n\t    (434, 430), (430, 394), (394, 434), (414, 463), (463, 362), (362, 414),\n\t    (396, 369), (369, 262), (262, 396), (354, 461), (461, 457), (457, 354),\n\t    (316, 403), (403, 402), (402, 316), (315, 404), (404, 403), (403, 315),\n\t    (314, 405), (405, 404), (404, 314), (313, 406), (406, 405), (405, 313),\n", "    (421, 418), (418, 406), (406, 421), (366, 401), (401, 361), (361, 366),\n\t    (306, 408), (408, 407), (407, 306), (291, 409), (409, 408), (408, 291),\n\t    (287, 410), (410, 409), (409, 287), (432, 436), (436, 410), (410, 432),\n\t    (434, 416), (416, 411), (411, 434), (264, 368), (368, 383), (383, 264),\n\t    (309, 438), (438, 457), (457, 309), (352, 376), (376, 401), (401, 352),\n\t    (274, 275), (275, 4),   (4, 274),   (421, 428), (428, 262), (262, 421),\n\t    (294, 327), (327, 358), (358, 294), (433, 416), (416, 367), (367, 433),\n\t    (289, 455), (455, 439), (439, 289), (462, 370), (370, 326), (326, 462),\n\t    (2, 326),   (326, 370), (370, 2),   (305, 460), (460, 455), (455, 305),\n\t    (254, 449), (449, 448), (448, 254), (255, 261), (261, 446), (446, 255),\n", "    (253, 450), (450, 449), (449, 253), (252, 451), (451, 450), (450, 252),\n\t    (256, 452), (452, 451), (451, 256), (341, 453), (453, 452), (452, 341),\n\t    (413, 464), (464, 463), (463, 413), (441, 413), (413, 414), (414, 441),\n\t    (258, 442), (442, 441), (441, 258), (257, 443), (443, 442), (442, 257),\n\t    (259, 444), (444, 443), (443, 259), (260, 445), (445, 444), (444, 260),\n\t    (467, 342), (342, 445), (445, 467), (459, 458), (458, 250), (250, 459),\n\t    (289, 392), (392, 290), (290, 289), (290, 328), (328, 460), (460, 290),\n\t    (376, 433), (433, 435), (435, 376), (250, 290), (290, 392), (392, 250),\n\t    (411, 416), (416, 433), (433, 411), (341, 463), (463, 464), (464, 341),\n\t    (453, 464), (464, 465), (465, 453), (357, 465), (465, 412), (412, 357),\n", "    (343, 412), (412, 399), (399, 343), (360, 363), (363, 440), (440, 360),\n\t    (437, 399), (399, 456), (456, 437), (420, 456), (456, 363), (363, 420),\n\t    (401, 435), (435, 288), (288, 401), (372, 383), (383, 353), (353, 372),\n\t    (339, 255), (255, 249), (249, 339), (448, 261), (261, 255), (255, 448),\n\t    (133, 243), (243, 190), (190, 133), (133, 155), (155, 112), (112, 133),\n\t    (33, 246),  (246, 247), (247, 33),  (33, 130),  (130, 25),  (25, 33),\n\t    (398, 384), (384, 286), (286, 398), (362, 398), (398, 414), (414, 362),\n\t    (362, 463), (463, 341), (341, 362), (263, 359), (359, 467), (467, 263),\n\t    (263, 249), (249, 255), (255, 263), (466, 467), (467, 260), (260, 466),\n\t    (75, 60),   (60, 166),  (166, 75),  (238, 239), (239, 79),  (79, 238),\n", "    (162, 127), (127, 139), (139, 162), (72, 11),   (11, 37),   (37, 72),\n\t    (121, 232), (232, 120), (120, 121), (73, 72),   (72, 39),   (39, 73),\n\t    (114, 128), (128, 47),  (47, 114),  (233, 232), (232, 128), (128, 233),\n\t    (103, 104), (104, 67),  (67, 103),  (152, 175), (175, 148), (148, 152),\n\t    (119, 118), (118, 101), (101, 119), (74, 73),   (73, 40),   (40, 74),\n\t    (107, 9),   (9, 108),   (108, 107), (49, 48),   (48, 131),  (131, 49),\n\t    (32, 194),  (194, 211), (211, 32),  (184, 74),  (74, 185),  (185, 184),\n\t    (191, 80),  (80, 183),  (183, 191), (185, 40),  (40, 186),  (186, 185),\n\t    (119, 230), (230, 118), (118, 119), (210, 202), (202, 214), (214, 210),\n\t    (84, 83),   (83, 17),   (17, 84),   (77, 76),   (76, 146),  (146, 77),\n", "    (161, 160), (160, 30),  (30, 161),  (190, 56),  (56, 173),  (173, 190),\n\t    (182, 106), (106, 194), (194, 182), (138, 135), (135, 192), (192, 138),\n\t    (129, 203), (203, 98),  (98, 129),  (54, 21),   (21, 68),   (68, 54),\n\t    (5, 51),    (51, 4),    (4, 5),     (145, 144), (144, 23),  (23, 145),\n\t    (90, 77),   (77, 91),   (91, 90),   (207, 205), (205, 187), (187, 207),\n\t    (83, 201),  (201, 18),  (18, 83),   (181, 91),  (91, 182),  (182, 181),\n\t    (180, 90),  (90, 181),  (181, 180), (16, 85),   (85, 17),   (17, 16),\n\t    (205, 206), (206, 36),  (36, 205),  (176, 148), (148, 140), (140, 176),\n\t    (165, 92),  (92, 39),   (39, 165),  (245, 193), (193, 244), (244, 245),\n\t    (27, 159),  (159, 28),  (28, 27),   (30, 247),  (247, 161), (161, 30),\n", "    (174, 236), (236, 196), (196, 174), (103, 54),  (54, 104),  (104, 103),\n\t    (55, 193),  (193, 8),   (8, 55),    (111, 117), (117, 31),  (31, 111),\n\t    (221, 189), (189, 55),  (55, 221),  (240, 98),  (98, 99),   (99, 240),\n\t    (142, 126), (126, 100), (100, 142), (219, 166), (166, 218), (218, 219),\n\t    (112, 155), (155, 26),  (26, 112),  (198, 209), (209, 131), (131, 198),\n\t    (169, 135), (135, 150), (150, 169), (114, 47),  (47, 217),  (217, 114),\n\t    (224, 223), (223, 53),  (53, 224),  (220, 45),  (45, 134),  (134, 220),\n\t    (32, 211),  (211, 140), (140, 32),  (109, 67),  (67, 108),  (108, 109),\n\t    (146, 43),  (43, 91),   (91, 146),  (231, 230), (230, 120), (120, 231),\n\t    (113, 226), (226, 247), (247, 113), (105, 63),  (63, 52),   (52, 105),\n", "    (241, 238), (238, 242), (242, 241), (124, 46),  (46, 156),  (156, 124),\n\t    (95, 78),   (78, 96),   (96, 95),   (70, 46),   (46, 63),   (63, 70),\n\t    (116, 143), (143, 227), (227, 116), (116, 123), (123, 111), (111, 116),\n\t    (1, 44),    (44, 19),   (19, 1),    (3, 236),   (236, 51),  (51, 3),\n\t    (207, 216), (216, 205), (205, 207), (26, 154),  (154, 22),  (22, 26),\n\t    (165, 39),  (39, 167),  (167, 165), (199, 200), (200, 208), (208, 199),\n\t    (101, 36),  (36, 100),  (100, 101), (43, 57),   (57, 202),  (202, 43),\n\t    (242, 20),  (20, 99),   (99, 242),  (56, 28),   (28, 157),  (157, 56),\n\t    (124, 35),  (35, 113),  (113, 124), (29, 160),  (160, 27),  (27, 29),\n\t    (211, 204), (204, 210), (210, 211), (124, 113), (113, 46),  (46, 124),\n", "    (106, 43),  (43, 204),  (204, 106), (96, 62),   (62, 77),   (77, 96),\n\t    (227, 137), (137, 116), (116, 227), (73, 41),   (41, 72),   (72, 73),\n\t    (36, 203),  (203, 142), (142, 36),  (235, 64),  (64, 240),  (240, 235),\n\t    (48, 49),   (49, 64),   (64, 48),   (42, 41),   (41, 74),   (74, 42),\n\t    (214, 212), (212, 207), (207, 214), (183, 42),  (42, 184),  (184, 183),\n\t    (210, 169), (169, 211), (211, 210), (140, 170), (170, 176), (176, 140),\n\t    (104, 105), (105, 69),  (69, 104),  (193, 122), (122, 168), (168, 193),\n\t    (50, 123),  (123, 187), (187, 50),  (89, 96),   (96, 90),   (90, 89),\n\t    (66, 65),   (65, 107),  (107, 66),  (179, 89),  (89, 180),  (180, 179),\n\t    (119, 101), (101, 120), (120, 119), (68, 63),   (63, 104),  (104, 68),\n", "    (234, 93),  (93, 227),  (227, 234), (16, 15),   (15, 85),   (85, 16),\n\t    (209, 129), (129, 49),  (49, 209),  (15, 14),   (14, 86),   (86, 15),\n\t    (107, 55),  (55, 9),    (9, 107),   (120, 100), (100, 121), (121, 120),\n\t    (153, 145), (145, 22),  (22, 153),  (178, 88),  (88, 179),  (179, 178),\n\t    (197, 6),   (6, 196),   (196, 197), (89, 88),   (88, 96),   (96, 89),\n\t    (135, 138), (138, 136), (136, 135), (138, 215), (215, 172), (172, 138),\n\t    (218, 115), (115, 219), (219, 218), (41, 42),   (42, 81),   (81, 41),\n\t    (5, 195),   (195, 51),  (51, 5),    (57, 43),   (43, 61),   (61, 57),\n\t    (208, 171), (171, 199), (199, 208), (41, 81),   (81, 38),   (38, 41),\n\t    (224, 53),  (53, 225),  (225, 224), (24, 144),  (144, 110), (110, 24),\n", "    (105, 52),  (52, 66),   (66, 105),  (118, 229), (229, 117), (117, 118),\n\t    (227, 34),  (34, 234),  (234, 227), (66, 107),  (107, 69),  (69, 66),\n\t    (10, 109),  (109, 151), (151, 10),  (219, 48),  (48, 235),  (235, 219),\n\t    (183, 62),  (62, 191),  (191, 183), (142, 129), (129, 126), (126, 142),\n\t    (116, 111), (111, 143), (143, 116), (118, 117), (117, 50),  (50, 118),\n\t    (223, 222), (222, 52),  (52, 223),  (94, 19),   (19, 141),  (141, 94),\n\t    (222, 221), (221, 65),  (65, 222),  (196, 3),   (3, 197),   (197, 196),\n\t    (45, 220),  (220, 44),  (44, 45),   (156, 70),  (70, 139),  (139, 156),\n\t    (188, 122), (122, 245), (245, 188), (139, 71),  (71, 162),  (162, 139),\n\t    (149, 170), (170, 150), (150, 149), (122, 188), (188, 196), (196, 122),\n", "    (206, 216), (216, 92),  (92, 206),  (164, 2),   (2, 167),   (167, 164),\n\t    (242, 141), (141, 241), (241, 242), (0, 164),   (164, 37),  (37, 0),\n\t    (11, 72),   (72, 12),   (12, 11),   (12, 38),   (38, 13),   (13, 12),\n\t    (70, 63),   (63, 71),   (71, 70),   (31, 226),  (226, 111), (111, 31),\n\t    (36, 101),  (101, 205), (205, 36),  (203, 206), (206, 165), (165, 203),\n\t    (126, 209), (209, 217), (217, 126), (98, 165),  (165, 97),  (97, 98),\n\t    (237, 220), (220, 218), (218, 237), (237, 239), (239, 241), (241, 237),\n\t    (210, 214), (214, 169), (169, 210), (140, 171), (171, 32),  (32, 140),\n\t    (241, 125), (125, 237), (237, 241), (179, 86),  (86, 178),  (178, 179),\n\t    (180, 85),  (85, 179),  (179, 180), (181, 84),  (84, 180),  (180, 181),\n", "    (182, 83),  (83, 181),  (181, 182), (194, 201), (201, 182), (182, 194),\n\t    (177, 137), (137, 132), (132, 177), (184, 76),  (76, 183),  (183, 184),\n\t    (185, 61),  (61, 184),  (184, 185), (186, 57),  (57, 185),  (185, 186),\n\t    (216, 212), (212, 186), (186, 216), (192, 214), (214, 187), (187, 192),\n\t    (139, 34),  (34, 156),  (156, 139), (218, 79),  (79, 237),  (237, 218),\n\t    (147, 123), (123, 177), (177, 147), (45, 44),   (44, 4),    (4, 45),\n\t    (208, 201), (201, 32),  (32, 208),  (98, 64),   (64, 129),  (129, 98),\n\t    (192, 213), (213, 138), (138, 192), (235, 59),  (59, 219),  (219, 235),\n\t    (141, 242), (242, 97),  (97, 141),  (97, 2),    (2, 141),   (141, 97),\n\t    (240, 75),  (75, 235),  (235, 240), (229, 24),  (24, 228),  (228, 229),\n", "    (31, 25),   (25, 226),  (226, 31),  (230, 23),  (23, 229),  (229, 230),\n\t    (231, 22),  (22, 230),  (230, 231), (232, 26),  (26, 231),  (231, 232),\n\t    (233, 112), (112, 232), (232, 233), (244, 189), (189, 243), (243, 244),\n\t    (189, 221), (221, 190), (190, 189), (222, 28),  (28, 221),  (221, 222),\n\t    (223, 27),  (27, 222),  (222, 223), (224, 29),  (29, 223),  (223, 224),\n\t    (225, 30),  (30, 224),  (224, 225), (113, 247), (247, 225), (225, 113),\n\t    (99, 60),   (60, 240),  (240, 99),  (213, 147), (147, 215), (215, 213),\n\t    (60, 20),   (20, 166),  (166, 60),  (192, 187), (187, 213), (213, 192),\n\t    (243, 112), (112, 244), (244, 243), (244, 233), (233, 245), (245, 244),\n\t    (245, 128), (128, 188), (188, 245), (188, 114), (114, 174), (174, 188),\n", "    (134, 131), (131, 220), (220, 134), (174, 217), (217, 236), (236, 174),\n\t    (236, 198), (198, 134), (134, 236), (215, 177), (177, 58),  (58, 215),\n\t    (156, 143), (143, 124), (124, 156), (25, 110),  (110, 7),   (7, 25),\n\t    (31, 228),  (228, 25),  (25, 31),   (264, 356), (356, 368), (368, 264),\n\t    (0, 11),    (11, 267),  (267, 0),   (451, 452), (452, 349), (349, 451),\n\t    (267, 302), (302, 269), (269, 267), (350, 357), (357, 277), (277, 350),\n\t    (350, 452), (452, 357), (357, 350), (299, 333), (333, 297), (297, 299),\n\t    (396, 175), (175, 377), (377, 396), (280, 347), (347, 330), (330, 280),\n\t    (269, 303), (303, 270), (270, 269), (151, 9),   (9, 337),   (337, 151),\n\t    (344, 278), (278, 360), (360, 344), (424, 418), (418, 431), (431, 424),\n", "    (270, 304), (304, 409), (409, 270), (272, 310), (310, 407), (407, 272),\n\t    (322, 270), (270, 410), (410, 322), (449, 450), (450, 347), (347, 449),\n\t    (432, 422), (422, 434), (434, 432), (18, 313),  (313, 17),  (17, 18),\n\t    (291, 306), (306, 375), (375, 291), (259, 387), (387, 260), (260, 259),\n\t    (424, 335), (335, 418), (418, 424), (434, 364), (364, 416), (416, 434),\n\t    (391, 423), (423, 327), (327, 391), (301, 251), (251, 298), (298, 301),\n\t    (275, 281), (281, 4),   (4, 275),   (254, 373), (373, 253), (253, 254),\n\t    (375, 307), (307, 321), (321, 375), (280, 425), (425, 411), (411, 280),\n\t    (200, 421), (421, 18),  (18, 200),  (335, 321), (321, 406), (406, 335),\n\t    (321, 320), (320, 405), (405, 321), (314, 315), (315, 17),  (17, 314),\n", "    (423, 426), (426, 266), (266, 423), (396, 377), (377, 369), (369, 396),\n\t    (270, 322), (322, 269), (269, 270), (413, 417), (417, 464), (464, 413),\n\t    (385, 386), (386, 258), (258, 385), (248, 456), (456, 419), (419, 248),\n\t    (298, 284), (284, 333), (333, 298), (168, 417), (417, 8),   (8, 168),\n\t    (448, 346), (346, 261), (261, 448), (417, 413), (413, 285), (285, 417),\n\t    (326, 327), (327, 328), (328, 326), (277, 355), (355, 329), (329, 277),\n\t    (309, 392), (392, 438), (438, 309), (381, 382), (382, 256), (256, 381),\n\t    (279, 429), (429, 360), (360, 279), (365, 364), (364, 379), (379, 365),\n\t    (355, 277), (277, 437), (437, 355), (282, 443), (443, 283), (283, 282),\n\t    (281, 275), (275, 363), (363, 281), (395, 431), (431, 369), (369, 395),\n", "    (299, 297), (297, 337), (337, 299), (335, 273), (273, 321), (321, 335),\n\t    (348, 450), (450, 349), (349, 348), (359, 446), (446, 467), (467, 359),\n\t    (283, 293), (293, 282), (282, 283), (250, 458), (458, 462), (462, 250),\n\t    (300, 276), (276, 383), (383, 300), (292, 308), (308, 325), (325, 292),\n\t    (283, 276), (276, 293), (293, 283), (264, 372), (372, 447), (447, 264),\n\t    (346, 352), (352, 340), (340, 346), (354, 274), (274, 19),  (19, 354),\n\t    (363, 456), (456, 281), (281, 363), (426, 436), (436, 425), (425, 426),\n\t    (380, 381), (381, 252), (252, 380), (267, 269), (269, 393), (393, 267),\n\t    (421, 200), (200, 428), (428, 421), (371, 266), (266, 329), (329, 371),\n\t    (432, 287), (287, 422), (422, 432), (290, 250), (250, 328), (328, 290),\n", "    (385, 258), (258, 384), (384, 385), (446, 265), (265, 342), (342, 446),\n\t    (386, 387), (387, 257), (257, 386), (422, 424), (424, 430), (430, 422),\n\t    (445, 342), (342, 276), (276, 445), (422, 273), (273, 424), (424, 422),\n\t    (306, 292), (292, 307), (307, 306), (352, 366), (366, 345), (345, 352),\n\t    (268, 271), (271, 302), (302, 268), (358, 423), (423, 371), (371, 358),\n\t    (327, 294), (294, 460), (460, 327), (331, 279), (279, 294), (294, 331),\n\t    (303, 271), (271, 304), (304, 303), (436, 432), (432, 427), (427, 436),\n\t    (304, 272), (272, 408), (408, 304), (395, 394), (394, 431), (431, 395),\n\t    (378, 395), (395, 400), (400, 378), (296, 334), (334, 299), (299, 296),\n\t    (6, 351),   (351, 168), (168, 6),   (376, 352), (352, 411), (411, 376),\n", "    (307, 325), (325, 320), (320, 307), (285, 295), (295, 336), (336, 285),\n\t    (320, 319), (319, 404), (404, 320), (329, 330), (330, 349), (349, 329),\n\t    (334, 293), (293, 333), (333, 334), (366, 323), (323, 447), (447, 366),\n\t    (316, 15),  (15, 315),  (315, 316), (331, 358), (358, 279), (279, 331),\n\t    (317, 14),  (14, 316),  (316, 317), (8, 285),   (285, 9),   (9, 8),\n\t    (277, 329), (329, 350), (350, 277), (253, 374), (374, 252), (252, 253),\n\t    (319, 318), (318, 403), (403, 319), (351, 6),   (6, 419),   (419, 351),\n\t    (324, 318), (318, 325), (325, 324), (397, 367), (367, 365), (365, 397),\n\t    (288, 435), (435, 397), (397, 288), (278, 344), (344, 439), (439, 278),\n\t    (310, 272), (272, 311), (311, 310), (248, 195), (195, 281), (281, 248),\n", "    (375, 273), (273, 291), (291, 375), (175, 396), (396, 199), (199, 175),\n\t    (312, 311), (311, 268), (268, 312), (276, 283), (283, 445), (445, 276),\n\t    (390, 373), (373, 339), (339, 390), (295, 282), (282, 296), (296, 295),\n\t    (448, 449), (449, 346), (346, 448), (356, 264), (264, 454), (454, 356),\n\t    (337, 336), (336, 299), (299, 337), (337, 338), (338, 151), (151, 337),\n\t    (294, 278), (278, 455), (455, 294), (308, 292), (292, 415), (415, 308),\n\t    (429, 358), (358, 355), (355, 429), (265, 340), (340, 372), (372, 265),\n\t    (352, 346), (346, 280), (280, 352), (295, 442), (442, 282), (282, 295),\n\t    (354, 19),  (19, 370),  (370, 354), (285, 441), (441, 295), (295, 285),\n\t    (195, 248), (248, 197), (197, 195), (457, 440), (440, 274), (274, 457),\n", "    (301, 300), (300, 368), (368, 301), (417, 351), (351, 465), (465, 417),\n\t    (251, 301), (301, 389), (389, 251), (394, 395), (395, 379), (379, 394),\n\t    (399, 412), (412, 419), (419, 399), (410, 436), (436, 322), (322, 410),\n\t    (326, 2),   (2, 393),   (393, 326), (354, 370), (370, 461), (461, 354),\n\t    (393, 164), (164, 267), (267, 393), (268, 302), (302, 12),  (12, 268),\n\t    (312, 268), (268, 13),  (13, 312),  (298, 293), (293, 301), (301, 298),\n\t    (265, 446), (446, 340), (340, 265), (280, 330), (330, 425), (425, 280),\n\t    (322, 426), (426, 391), (391, 322), (420, 429), (429, 437), (437, 420),\n\t    (393, 391), (391, 326), (326, 393), (344, 440), (440, 438), (438, 344),\n\t    (458, 459), (459, 461), (461, 458), (364, 434), (434, 394), (394, 364),\n", "    (428, 396), (396, 262), (262, 428), (274, 354), (354, 457), (457, 274),\n\t    (317, 316), (316, 402), (402, 317), (316, 315), (315, 403), (403, 316),\n\t    (315, 314), (314, 404), (404, 315), (314, 313), (313, 405), (405, 314),\n\t    (313, 421), (421, 406), (406, 313), (323, 366), (366, 361), (361, 323),\n\t    (292, 306), (306, 407), (407, 292), (306, 291), (291, 408), (408, 306),\n\t    (291, 287), (287, 409), (409, 291), (287, 432), (432, 410), (410, 287),\n\t    (427, 434), (434, 411), (411, 427), (372, 264), (264, 383), (383, 372),\n\t    (459, 309), (309, 457), (457, 459), (366, 352), (352, 401), (401, 366),\n\t    (1, 274),   (274, 4),   (4, 1),     (418, 421), (421, 262), (262, 418),\n\t    (331, 294), (294, 358), (358, 331), (435, 433), (433, 367), (367, 435),\n", "    (392, 289), (289, 439), (439, 392), (328, 462), (462, 326), (326, 328),\n\t    (94, 2),    (2, 370),   (370, 94),  (289, 305), (305, 455), (455, 289),\n\t    (339, 254), (254, 448), (448, 339), (359, 255), (255, 446), (446, 359),\n\t    (254, 253), (253, 449), (449, 254), (253, 252), (252, 450), (450, 253),\n\t    (252, 256), (256, 451), (451, 252), (256, 341), (341, 452), (452, 256),\n\t    (414, 413), (413, 463), (463, 414), (286, 441), (441, 414), (414, 286),\n\t    (286, 258), (258, 441), (441, 286), (258, 257), (257, 442), (442, 258),\n\t    (257, 259), (259, 443), (443, 257), (259, 260), (260, 444), (444, 259),\n\t    (260, 467), (467, 445), (445, 260), (309, 459), (459, 250), (250, 309),\n\t    (305, 289), (289, 290), (290, 305), (305, 290), (290, 460), (460, 305),\n", "    (401, 376), (376, 435), (435, 401), (309, 250), (250, 392), (392, 309),\n\t    (376, 411), (411, 433), (433, 376), (453, 341), (341, 464), (464, 453),\n\t    (357, 453), (453, 465), (465, 357), (343, 357), (357, 412), (412, 343),\n\t    (437, 343), (343, 399), (399, 437), (344, 360), (360, 440), (440, 344),\n\t    (420, 437), (437, 456), (456, 420), (360, 420), (420, 363), (363, 360),\n\t    (361, 401), (401, 288), (288, 361), (265, 372), (372, 353), (353, 265),\n\t    (390, 339), (339, 249), (249, 390), (339, 448), (448, 255), (255, 339)\n\t)\n\tFACEMESH_LIPS = (\n\t    (61, 146), (146, 91), (91, 181), (181, 84), (84, 17),\n", "    (17, 314), (314, 405), (405, 321), (321, 375),\n\t    (375, 291), (61, 185), (185, 40), (40, 39), (39, 37),\n\t    (37, 0), (0, 267),\n\t    (267, 269), (269, 270), (270, 409), (409, 291),\n\t    (78, 95), (95, 88), (88, 178), (178, 87), (87, 14),\n\t    (14, 317), (317, 402), (402, 318), (318, 324),\n\t    (324, 308), (78, 191), (191, 80), (80, 81), (81, 82),\n\t    (82, 13), (13, 312), (312, 311), (311, 310),\n\t    (310, 415), (415, 308)\n\t)\n", "FACEMESH_LEFT_EYE = (\n\t    (263, 249), (249, 390), (390, 373), (373, 374),\n\t    (374, 380), (380, 381), (381, 382), (382, 362),\n\t    (263, 466), (466, 388), (388, 387), (387, 386),\n\t    (386, 385), (385, 384), (384, 398), (398, 362)\n\t)\n\tFACEMESH_LEFT_IRIS = (\n\t    (474, 475), (475, 476), (476, 477), (477, 474)\n\t)\n\tFACEMESH_LEFT_EYEBROW = (\n", "    (276, 283), (283, 282), (282, 295),\n\t    (295, 285), (300, 293), (293, 334),\n\t    (334, 296), (296, 336)\n\t)\n\tFACEMESH_RIGHT_EYE = (\n\t    (33, 7), (7, 163), (163, 144), (144, 145),\n\t    (145, 153), (153, 154), (154, 155), (155, 133),\n\t    (33, 246), (246, 161), (161, 160), (160, 159),\n\t    (159, 158), (158, 157), (157, 173), (173, 133)\n\t)\n", "FACEMESH_RIGHT_EYEBROW = (\n\t    (46, 53), (53, 52), (52, 65), (65, 55),\n\t    (70, 63), (63, 105), (105, 66), (66, 107)\n\t)\n\tFACEMESH_RIGHT_IRIS = (\n\t    (469, 470), (470, 471), (471, 472), (472, 469)\n\t)\n\tFACEMESH_FACE_OVAL = (\n\t    (10, 338), (338, 297), (297, 332), (332, 284),\n\t    (284, 251), (251, 389), (389, 356), (356, 454),\n", "    (454, 323), (323, 361), (361, 288), (288, 397),\n\t    (397, 365), (365, 379), (379, 378), (378, 400),\n\t    (400, 377), (377, 152), (152, 148), (148, 176),\n\t    (176, 149), (149, 150), (150, 136), (136, 172),\n\t    (172, 58), (58, 132), (132, 93), (93, 234),\n\t    (234, 127), (127, 162), (162, 21), (21, 54),\n\t    (54, 103), (103, 67), (67, 109), (109, 10)\n\t)\n\tFACEMESH_CONTOURS = FACEMESH_LIPS + FACEMESH_LEFT_EYE + FACEMESH_LEFT_EYEBROW + FACEMESH_RIGHT_EYE + \\\n\t                    FACEMESH_RIGHT_EYEBROW + FACEMESH_FACE_OVAL\n"]}
{"filename": "src/sign_language_tools/visualization/__init__.py", "chunked_list": ["__all__ = [\n\t    'VideoPlayer',\n\t]\n\tfrom sign_language_tools.visualization.video.video_player import VideoPlayer\n"]}
{"filename": "src/sign_language_tools/visualization/plot/segments.py", "chunked_list": ["import numpy as np\n\timport matplotlib.pyplot as plt\n\tdef plot_segments(segments: np.ndarray, x_lim=None):\n\t    fig, ax = plt.subplots(1, 1, figsize=(30, 2))\n\t    if x_lim is not None:\n\t        ax.set_xlim(*x_lim)\n\t    for seg in segments[:, :2].astype('float32'):\n\t        ax.axvspan(seg[0], seg[1], alpha=.5)\n\t    fig.show()\n"]}
{"filename": "src/sign_language_tools/visualization/plot/__init__.py", "chunked_list": []}
{"filename": "src/sign_language_tools/visualization/plot/landmarks.py", "chunked_list": ["from typing import Optional, Tuple\n\timport numpy as np\n\timport matplotlib.pyplot as plt\n\tfrom matplotlib.patches import Circle\n\tfrom matplotlib.lines import Line2D\n\t__all__ = [\n\t    'plot_landmarks',\n\t]\n\tEdge = Tuple[int, int]\n\tdef plot_landmarks(\n", "        landmarks: np.ndarray,\n\t        connections: Optional[Tuple[Edge, ...]] = None,\n\t        *,\n\t        ax=None,\n\t        vertex_size: float = 0.01,\n\t        vertex_color='lime',\n\t        edge_color='white',\n\t        background_color='black',\n\t        text_color='red',\n\t        aspect_ratio: float = 1,\n", "        show_axis: bool = False,\n\t        show_indices: bool = False,\n\t        x_lim: Optional[tuple[float, float]] = None,\n\t        y_lim: Optional[tuple[float, float]] = None,\n\t        refocus: bool = False,\n\t        focus_pad: float = 0.02,\n\t):\n\t    \"\"\"\n\t    Plot landmarks on a figure using matplotlib.\n\t    Landmarks have to be a Numpy array of shape (L, 2) or (L, 3) where L is the number of different landmarks.\n", "    Args:\n\t        landmarks: The set of landmarks (L, 2) or (L, 3) to plot. Each landmark is represented as a vertex.\n\t        connections: An optional tuple of edges to draw between vertices.\n\t        ax: If specified, this matplotlib axis will be used. Otherwise, global axis are used.\n\t        vertex_size: Size of all vertices. Default=0.01\n\t        vertex_color: Color of all vertices. Default='lime'\n\t        edge_color: Color of all edges. Default='white'\n\t        background_color: Color of the background. Default='black'\n\t        text_color: Color of the text, if present. Default='red'\n\t        aspect_ratio: Aspect ratio used to display the landmarks. Default=1.0\n", "        show_axis: If true, draw axis. Default=False\n\t        show_indices: If true, draw indices of landmarks. Default=False\n\t        x_lim: If specified, override computed x_lim. Default=None\n\t        y_lim: If specified, override computed x_lim. Default=None\n\t        refocus: If true, compute x- and y-lim to refocus on landmarks. Default=False\n\t        focus_pad: Specify padding used if refocus is true. Otherwise, it is ignored.\n\t    Author:\n\t        v0.0.1 - ppoitier\n\t    \"\"\"\n\t    x = landmarks[:, 0]\n", "    y = landmarks[:, 1]\n\t    x_lim, y_lim, aspect_ratio = _compute_xy_lim(\n\t        landmarks,\n\t        aspect_ratio=aspect_ratio,\n\t        x_lim=x_lim,\n\t        y_lim=y_lim,\n\t        refocus=refocus,\n\t        focus_pad=focus_pad,\n\t    )\n\t    if ax is None:\n", "        ax = plt.gca()\n\t    ax.set_facecolor(background_color)\n\t    ax.axes.xaxis.set_visible(show_axis)\n\t    ax.axes.yaxis.set_visible(show_axis)\n\t    ax.set_box_aspect(1/aspect_ratio)\n\t    ax.set_xlim(*x_lim)\n\t    ax.set_ylim(*y_lim)\n\t    _draw_vertices(landmarks, ax=ax, vertex_size=vertex_size, vertex_color=vertex_color)\n\t    if show_indices:\n\t        _draw_indices(landmarks, ax=ax, color=text_color)\n", "    if connections is not None:\n\t        _draw_edges(x, y, ax=ax, connections=connections, edge_color=edge_color)\n\t    return ax\n\t# ---- Helpers\n\tdef _compute_refocus(\n\t        landmarks: np.ndarray,\n\t        focus_pad: float,\n\t) -> Tuple[Tuple[float, float], Tuple[float, float]]:\n\t    \"\"\"\n\t    Calculate axis limits to refocus the figure on landmarks, with configurable padding.\n", "    Args:\n\t        landmarks: Set of landmarks (L, 2) or (L, 3) on which to refocus the figure.\n\t        focus_pad: The padding used for the refocus.\n\t    Returns:\n\t        x_lim, y_lim : Boundaries of the refocused frame.\n\t    \"\"\"\n\t    x = landmarks[:, 0]\n\t    y = landmarks[:, 1]\n\t    x_min = np.min(x)\n\t    x_max = np.max(x)\n", "    y_min = np.min(y)\n\t    y_max = np.max(y)\n\t    x_lim = (x_min - focus_pad, x_max + focus_pad)\n\t    y_lim = (y_max + focus_pad, y_min - focus_pad)\n\t    return x_lim, y_lim\n\tdef _compute_xy_lim(\n\t        landmarks: np.ndarray,\n\t        aspect_ratio: float,\n\t        *,\n\t        x_lim: Optional[float] = None,\n", "        y_lim: Optional[float] = None,\n\t        refocus: bool = False,\n\t        focus_pad: float = 0.02,\n\t):\n\t    if refocus:\n\t        refocus_x, refocus_y = _compute_refocus(landmarks, focus_pad)\n\t    else:\n\t        refocus_x, refocus_y = (0, 1), (1, 0)\n\t    if x_lim is None:\n\t        x_lim = refocus_x\n", "    if y_lim is None:\n\t        y_lim = refocus_y\n\t    x_size = x_lim[1] - x_lim[0]\n\t    y_size = y_lim[0] - y_lim[1]\n\t    aspect_ratio = (x_size * aspect_ratio / y_size)\n\t    return x_lim, y_lim, aspect_ratio\n\tdef _draw_edges(x, y, *, ax, connections, edge_color):\n\t    for v0, v1 in connections:\n\t        line = Line2D(\n\t            [x[v0], x[v1]],\n", "            [y[v0], y[v1]],\n\t            color=edge_color,\n\t            zorder=1,\n\t        )\n\t        ax.add_line(line)\n\tdef _draw_vertices(landmarks: np.ndarray, ax, vertex_size, vertex_color):\n\t    for coords in landmarks:\n\t        ax.add_patch(Circle(\n\t            (coords[0], coords[1]),\n\t            radius=vertex_size/2,\n", "            facecolor=vertex_color,\n\t            zorder=2,\n\t        ))\n\tdef _draw_indices(landmarks: np.ndarray, ax, color):\n\t    for index, coords in enumerate(landmarks):\n\t        ax.text(coords[0], coords[1], str(index), color=color, clip_on=True)\n"]}
{"filename": "src/sign_language_tools/visualization/video/segments.py", "chunked_list": ["import numpy as np\n\timport pandas as pd\n\tfrom sign_language_tools.visualization.video.displayable import Displayable\n\tfrom sign_language_tools.visualization.video.cv.annotations import draw_segments\n\tdef get_segments_in_range(segments: pd.DataFrame, full_range: tuple[int, int]) -> pd.DataFrame:\n\t    start, end = full_range\n\t    return segments.loc[(segments['start'] <= end) & (segments['end'] >= start)]\n\tclass Segments(Displayable):\n\t    def __init__(\n\t            self,\n", "            segments: pd.DataFrame,\n\t            name: str,\n\t            unit: str,\n\t            resolution: tuple[int, int] = (512, 256),\n\t            time_range: int = 3000,\n\t            fps: int = 50,\n\t    ):\n\t        self.name = name\n\t        self.segments = segments.copy()\n\t        self.resolution = resolution\n", "        self.offset = resolution[0]//2\n\t        self.time_range = time_range\n\t        self.frame_duration = round(1000/fps)\n\t        self.frame_offset = round(time_range/self.frame_duration)\n\t        self.frame_px = self.offset/self.frame_offset\n\t        self.panel = None\n\t        self.panel_nb = -1\n\t        self.unit = unit\n\t        if self.unit == 'ms':\n\t            self.segments.loc[:, ['start', 'end']] //= self.frame_duration\n", "        self._load_panel(0)\n\t    def get_img(self, frame_number: int) -> np.ndarray:\n\t        panel_nb = frame_number // self.frame_offset\n\t        if panel_nb != self.panel_nb:\n\t            self._load_panel(frame_number)\n\t        img = np.zeros((self.resolution[1], self.resolution[0], 3), dtype='uint8')\n\t        frame_offset = frame_number % self.frame_offset\n\t        px_offset = round(frame_offset * self.frame_px)\n\t        img[:, :] = self.panel[:, px_offset:self.resolution[0]+px_offset]\n\t        img[:, self.offset-2:self.offset+2, :] = (0, 0, 255)\n", "        return img\n\t    def _load_panel(self, frame_number: int):\n\t        self.panel = np.zeros((self.resolution[1], 3 * self.offset, 3), dtype='uint8')\n\t        self.panel_nb = frame_number // self.frame_offset\n\t        panel_start_frame = self.panel_nb * self.frame_offset - self.frame_offset\n\t        panel_end_frame = panel_start_frame + 3 * self.frame_offset\n\t        panel_segments = get_segments_in_range(self.segments, (panel_start_frame, panel_end_frame))\n\t        draw_segments(self.panel, panel_segments, panel_start_frame, panel_end_frame)\n"]}
{"filename": "src/sign_language_tools/visualization/video/images.py", "chunked_list": ["import numpy as np\n\timport cv2\n\timport glob\n\timport os\n\tfrom .displayable import Displayable\n\tclass Images(Displayable):\n\t    def __init__(self, dir_path: str, extension: str = 'png'):\n\t        super(Images, self).__init__()\n\t        self.dir_path = dir_path\n\t        self.frames = [cv2.imread(filepath) for filepath in glob.glob(os.path.join(dir_path, f'*.{extension}'))]\n", "        self.frame_count = len(self.frames)\n\t        self.width = self.frames[0].shape[1]\n\t        self.height = self.frames[0].shape[0]\n\t        self.last_frame_nb = 0\n\t    def get_img(self, frame_number: int) -> np.ndarray:\n\t        frame_number = max(0, min(frame_number, self.frame_count-1))\n\t        return self.frames[frame_number]\n"]}
{"filename": "src/sign_language_tools/visualization/video/video_player.py", "chunked_list": ["import os\n\tfrom typing import Optional, Literal, Union\n\timport cv2\n\timport numpy as np\n\timport pandas as pd\n\tfrom sign_language_tools.visualization.video.video import Video\n\tfrom sign_language_tools.visualization.video.images import Images\n\tfrom sign_language_tools.visualization.video.poses import Poses\n\tfrom sign_language_tools.visualization.video.segments import Segments\n\tclass VideoPlayer:\n", "    \"\"\"\n\t    The video player is a versatile video player that allows to visualise sign language landmarks\n\t    along with a video stream and annotations.\n\t    Landmarks must be in the Mediapipe or OpenPose format.\n\t    Controls:\n\t    - Q or Escape: quit the player\n\t    - Space: pause\n\t    - S: Screenshot\n\t    - Left-arrow: 10 seconds forward\n\t    - Right-arrow: 10 seconds backward\n", "    Author:\n\t        v0.0.1 - ppoitier\n\t    \"\"\"\n\t    def __init__(\n\t            self,\n\t            root: Optional[str] = None,\n\t            screenshot_dir: Optional[str] = None,\n\t            fps: int = 24,\n\t    ):\n\t        \"\"\"\n", "        Creation of a new video player.\n\t        Args:\n\t            root: An optional root path prepended to all paths.\n\t            screenshot_dir: An optional folder path in which screenshot should be saved.\n\t            fps: The framerate of the video player (default = 24).\n\t                This is automatically changed if a video is attached to the video player.\n\t                Therefore, we recommend you to only manually specify it when no video stream is used.\n\t        \"\"\"\n\t        self.resolution = (756, 512)\n\t        self.current_frame = 0\n", "        self.frame_count = 0\n\t        self.fps = fps\n\t        self.speed = 1.0\n\t        self.root = root\n\t        self.screenshot_dir = screenshot_dir\n\t        self.video: Optional[Union[Video, Images]] = None\n\t        self.poses: Optional[Poses] = None\n\t        self.segmentations: list[Segments] = []\n\t        self.stop = False\n\t        self.pause = False\n", "        self.last_images = {}\n\t        self.isolate_video = False\n\t        self.isolate_pose = False\n\t        self.crop = (0.0, 1.0, 0.0, 1.0)\n\t    def attach_video(self, video_path: str):\n\t        \"\"\"\n\t        Attach a video file to the video player.\n\t        Only one video could be attached to a video player. The player use\n\t        `opencv-python` to render the video.\n\t        Args:\n", "            video_path: The path of the video file to attach.\n\t        \"\"\"\n\t        self.video = Video(self._get_path(video_path))\n\t        self.resolution = (self.video.width, self.video.height)\n\t        self.frame_count = self.video.frame_count\n\t        self.fps = self.video.fps\n\t    def attach_image_dir(self, dir_path: str, extension: str = 'png', fps: Optional[int] = None):\n\t        \"\"\"\n\t        Attach an image folder to the video player.\n\t        The images in the folder are used as video frames in the video player. They are\n", "        displayed in alphabetical order.\n\t        Only one video could be attached to a video player. The player use\n\t        `opencv-python` to render the video.\n\t        Args:\n\t            dir_path: The path of the folder containing the images.\n\t            extension: The file extension of the images (default = 'png').\n\t            fps: If specified, change the framerate of the video player. Default=None\n\t        \"\"\"\n\t        self.video = Images(self._get_path(dir_path), extension=extension)\n\t        self.frame_count = self.video.frame_count\n", "        if fps is not None:\n\t            self.fps = fps\n\t    def attach_pose(\n\t            self,\n\t            name: str,\n\t            pose_sequence: np.ndarray,\n\t            connections=None,\n\t            show_vertices: bool = True,\n\t            vertex_color=(0, 0, 255),\n\t            edge_color=(0, 255, 0),\n", "    ):\n\t        \"\"\"\n\t        Attach a set of landmarks to the video player.\n\t        Each set of landmark is identified by its name.\n\t        The video player is able to display multiple sets of landmarks in the same video.\n\t        However, they must have different names. Otherwise, the previous landmarks are replaced.\n\t        Args:\n\t            name: The name of the set of landmarks.\n\t            pose_sequence: The tensor containing the signal values of each landmark.\n\t                Must be of shape (T, L, 2) or (T, L, 3) where T is the number of frames and L the number of landmarks.\n", "            connections: An optional set of connections between the landmarks. Default=None\n\t            show_vertices: If true, the vertices of the landmarks are displayed.\n\t                Otherwise, they are hidden. Default=True\n\t            vertex_color: The color of each vertex in the BGR format (0 <= color <= 255) of OpenCV.\n\t            edge_color: The color of each edge in the BGR format (0 <= color <= 255) of OpenCV.\n\t        Shape:\n\t            landmarks: of the shape (T, L, D) where T is the number of frames, L the number of landmarks (vertices)\n\t            and D the dimension of each coordinate (only the two first coordinates are shown). Typically, D=2 or D=3.\n\t        \"\"\"\n\t        self._add_pose(name, pose_sequence, connections, show_vertices, vertex_color, edge_color)\n", "    def attach_segments(self, name: str, segments: Union[pd.DataFrame, np.ndarray], unit: str = 'ms'):\n\t        if isinstance(segments, np.ndarray):\n\t            segments = pd.DataFrame({\n\t                'start': pd.Series(segments[:, 0], dtype='int32'),\n\t                'end': pd.Series(segments[:, 1], dtype='int32'),\n\t                'label': pd.Series(segments[:, 2]),\n\t            })\n\t        self.segmentations.append(Segments(segments, name, fps=self.fps, unit=unit))\n\t    def set_crop(self, x: tuple[float, float] = (0, 1), y: tuple[float, float] = (0, 1)):\n\t        \"\"\"\n", "        Crop the viewport of the video player.\n\t        Default viewport is x=(0, 1) and y=(0, 1).\n\t        x: left -> right\n\t        y: top -> bottom\n\t        Args:\n\t            x: The relative x-axis range (start, end) to use. Example: `x=(0.4, 0.7)`.\n\t            y: The relative y-axis range (start, end) to use. Example: `y=(0.2, 0.5)`.\n\t        \"\"\"\n\t        assert 0 <= x[0] <= 1\n\t        assert 0 <= x[1] <= 1\n", "        assert 0 <= y[0] <= 1\n\t        assert 0 <= y[1] <= 1\n\t        self.crop = (x[0], x[1], y[0], y[1])\n\t    def isolate(self, element: Literal['video', 'pose']):\n\t        \"\"\"\n\t        Isolate an element out of the main window, into a new window.\n\t        Args:\n\t            element: The element that is isolated:\n\t                - `video` to isolate the original video.\n\t                - `pose` to isolate the landmarks.\n", "        \"\"\"\n\t        if element == 'video':\n\t            self.isolate_video = True\n\t        elif element == 'pose':\n\t            self.isolate_pose = True\n\t    def set_speed(self, new_speed: float):\n\t        \"\"\"\n\t        Change the playback speed of the video player.\n\t        Example:\n\t            ```\n", "            set_speed(2.0)  # Double the original playback speed of the video player\n\t            ```\n\t        Args:\n\t            new_speed: New relative playback speed (must be positive).\n\t        \"\"\"\n\t        assert 0 < new_speed, 'Speed must be positive.'\n\t        self.speed = new_speed\n\t    def play(self):\n\t        \"\"\"\n\t        Start the video player and display all the attached elements.\n", "        The player use `opencv-python` to render the video.\n\t        \"\"\"\n\t        self.current_frame = 0\n\t        frame_duration = round(1000/self.fps)\n\t        delay = round(frame_duration / self.speed)\n\t        while (self.current_frame < self.frame_count) and not self.stop:\n\t            if not self.pause:\n\t                self._next_frame(self.current_frame)\n\t                self.current_frame = self.current_frame + 1\n\t            key_code = cv2.waitKeyEx(delay)\n", "            self._user_action(key_code)\n\t        self._stop()\n\t    # ---- Private methods\n\t    def _next_frame(self, frame_nb: int):\n\t        self.last_images = {}\n\t        if self.video is not None:\n\t            img = self.video.get_img(frame_nb)\n\t            if self.isolate_video:\n\t                self._show_frame('Video (isolated)', img.copy(), frame_nb)\n\t            if self.poses is not None:\n", "                self.poses.draw(img, frame_nb)\n\t                if self.isolate_pose:\n\t                    self._show_frame('Pose (isolated)', self.poses.get_img(frame_nb), frame_nb)\n\t        elif self.poses is not None:\n\t            img = self.poses.get_img(frame_nb)\n\t        else:\n\t            img = np.zeros((512, 756, 3), dtype='uint8')\n\t        self._show_frame('Video Player', img, frame_nb)\n\t        for segments in self.segmentations:\n\t            cv2.imshow(segments.name, segments.get_img(frame_nb))\n", "    def _show_frame(self, window_title: str, frame: np.ndarray, frame_nb: int):\n\t        if self.crop is not None:\n\t            x_start, x_end, y_start, y_end = self.crop\n\t            x_start = int(x_start * frame.shape[1])\n\t            x_end = int(x_end * frame.shape[1])\n\t            y_start = int(y_start * frame.shape[0])\n\t            y_end = int(y_end * frame.shape[0])\n\t            frame = frame[y_start:y_end, x_start:x_end]\n\t        cv2.imshow(window_title, frame)\n\t        self.last_images[window_title] = (frame_nb, frame)\n", "    def _user_action(self, key_code):\n\t        if key_code == ord('q'):\n\t            self._stop()\n\t        elif key_code == ord('s'):\n\t            self._screenshot()\n\t        # Escape\n\t        elif key_code == 27:\n\t            self._stop()\n\t        # Left arrow\n\t        elif key_code == 65361 or key_code == 2424832:\n", "            self._goto(self.current_frame - self.fps * 10)\n\t        # Right arrow\n\t        elif key_code == 65363 or key_code == 2555904:\n\t            self._goto(self.current_frame + self.fps * 10)\n\t        # Space bar\n\t        elif key_code == 32:\n\t            self.pause = not self.pause\n\t    def _goto(self, frame_nb: int):\n\t        frame_nb = max(0, min(frame_nb, self.frame_count))\n\t        self.current_frame = frame_nb\n", "    def _stop(self):\n\t        self.stop = True\n\t        if self.video is not None:\n\t            self.video.release()\n\t        cv2.destroyAllWindows()\n\t    def _screenshot(self):\n\t        if self.screenshot_dir is None:\n\t            return\n\t        _dir = self.screenshot_dir\n\t        if os.path.isdir(os.path.join(self.root, _dir)):\n", "            _dir = os.path.join(self.root, _dir)\n\t        if not os.path.isdir(_dir):\n\t            print('Could not save frames. Directory not found:', _dir)\n\t            return\n\t        for window_title in self.last_images:\n\t            frame_nb, frame = self.last_images[window_title]\n\t            filepath = os.path.normpath(os.path.join(_dir, f'{frame_nb}_{window_title}.jpg'))\n\t            cv2.imwrite(filepath, frame)\n\t            print('Saved:', filepath)\n\t    def _add_pose(\n", "            self,\n\t            name: str,\n\t            landmarks: np.ndarray,\n\t            connections,\n\t            show_vertices: bool,\n\t            vertex_color: tuple[int, int, int],\n\t            edge_color: tuple[int, int, int],\n\t    ):\n\t        if self.poses is None:\n\t            self.poses = Poses(resolution=self.resolution)\n", "        self.poses.add_pose(name, landmarks, connections, show_vertices, vertex_color, edge_color)\n\t        n_poses = self.poses.n_poses\n\t        if self.video is not None:\n\t            assert self.frame_count == n_poses, \\\n\t                f'Different number of frames ({self.frame_count}) and poses ({n_poses}).'\n\t        else:\n\t            self.frame_count = n_poses\n\t    def _get_path(self, path: str):\n\t        if self.root is not None:\n\t            return os.path.join(self.root, path)\n", "        return path\n"]}
{"filename": "src/sign_language_tools/visualization/video/__init__.py", "chunked_list": ["__all__ = [\n\t    'VideoPlayer',\n\t]\n\tfrom sign_language_tools.visualization.video.video_player import VideoPlayer\n"]}
{"filename": "src/sign_language_tools/visualization/video/poses.py", "chunked_list": ["import numpy as np\n\tfrom sign_language_tools.visualization.video.displayable import Displayable\n\tfrom sign_language_tools.visualization.video.cv.landmarks import draw_pose\n\tclass Poses(Displayable):\n\t    def __init__(\n\t            self,\n\t            resolution: tuple[int, int],\n\t    ):\n\t        self.resolution = resolution\n\t        self.n_poses = 0\n", "        self.poses = {}\n\t    def add_pose(\n\t            self,\n\t            name: str,\n\t            pose_sequence: np.ndarray,\n\t            edges: tuple[tuple[int, int]],\n\t            show_vertices: bool,\n\t            vertex_color: tuple[int, int, int],\n\t            edge_color: tuple[int, int, int],\n\t    ):\n", "        # (T, V, D) or (T, VxD)\n\t        if len(pose_sequence.shape) == 2:\n\t            pose_sequence = pose_sequence.reshape((pose_sequence.shape[0], -1, 2))\n\t        self.n_poses = pose_sequence.shape[0]\n\t        self.poses[name] = {\n\t            'vertices': pose_sequence,\n\t            'edges': edges,\n\t            'show_vertices': show_vertices,\n\t            'vertex_color': vertex_color,\n\t            'edge_color': edge_color,\n", "        }\n\t    def get_img(self, frame_number: int) -> np.ndarray:\n\t        width, height = self.resolution\n\t        img = np.zeros((height, width, 3), dtype='uint8')\n\t        self.draw(img, frame_number)\n\t        return img\n\t    def draw(self, img: np.ndarray, frame_number: int):\n\t        for name in self.poses:\n\t            pose = self.poses[name]\n\t            draw_pose(\n", "                img,\n\t                pose['vertices'][frame_number],\n\t                pose['edges'],\n\t                show_vertices=pose['show_vertices'],\n\t                vertex_color=pose['vertex_color'],\n\t                edge_color=pose['edge_color'],\n\t            )\n"]}
{"filename": "src/sign_language_tools/visualization/video/video.py", "chunked_list": ["import numpy as np\n\timport cv2\n\tfrom .displayable import Displayable\n\tclass Video(Displayable):\n\t    def __init__(self, filepath: str):\n\t        super(Video, self).__init__()\n\t        self.cap = cv2.VideoCapture(filepath)\n\t        self.filepath = filepath\n\t        if not self.cap.isOpened():\n\t            raise RuntimeError(f'Cannot open video file: {filepath}')\n", "        self.fps = int(self.cap.get(cv2.CAP_PROP_FPS))\n\t        self.frame_count = int(self.cap.get(cv2.CAP_PROP_FRAME_COUNT))\n\t        self.width = int(self.cap.get(cv2.CAP_PROP_FRAME_WIDTH))\n\t        self.height = int(self.cap.get(cv2.CAP_PROP_FRAME_HEIGHT))\n\t        self.last_frame_nb = 0\n\t    def get_img(self, frame_number: int) -> np.ndarray:\n\t        frame_number = max(0, min(frame_number, self.frame_count-1))\n\t        if self.last_frame_nb != frame_number-1:\n\t            self.cap.set(cv2.CAP_PROP_POS_FRAMES, frame_number)\n\t        self.last_frame_nb = frame_number\n", "        success, frame = self.cap.read()\n\t        if not success:\n\t            raise RuntimeError(f'Cannot read frame ({frame_number}) of video: {self.filepath}')\n\t        return frame\n\t    def release(self):\n\t        self.cap.release()\n"]}
{"filename": "src/sign_language_tools/visualization/video/displayable.py", "chunked_list": ["import abc\n\timport numpy as np\n\tclass Displayable(object):\n\t    @abc.abstractmethod\n\t    def get_img(self, frame_number: int) -> np.ndarray:\n\t        pass\n\t    def release(self):\n\t        pass\n"]}
{"filename": "src/sign_language_tools/visualization/video/cv/annotations.py", "chunked_list": ["import cv2\n\timport numpy as np\n\timport pandas as pd\n\tdef to_img_x(f: int, panel_start: int, panel_end: int, width: int):\n\t    x = (f - panel_start) * width / (panel_end - panel_start)\n\t    return min(width, max(0, round(x)))\n\tdef draw_segment(img: np.ndarray, index: int, segment, panel_start: int, panel_end: int):\n\t    width = img.shape[1]\n\t    height = img.shape[0]\n\t    x0 = to_img_x(segment[0], panel_start, panel_end, width)\n", "    x1 = to_img_x(segment[1], panel_start, panel_end, width)\n\t    color = (0, 255, 0)\n\t    if 'color' in segment:\n\t        r, g, b = segment[['r', 'g', 'b']]\n\t        color = (b, g, r)\n\t    img[-100:, x0:x1, :] = color\n\t    if segment.shape[0] > 2:\n\t        text_x = x0 + 2\n\t        text_y0 = height - (100 + (1 + index % 4) * 30)\n\t        text_y1 = height - 100\n", "        cv2.line(img, (text_x, text_y0), (text_x, text_y1), color=(0, 255, 0), thickness=1)\n\t        cv2.putText(img, str(segment[2]), (text_x + 2, text_y0), cv2.FONT_HERSHEY_SIMPLEX, 0.5, (255, 255, 255), 1, 2)\n\tdef draw_segments(img: np.ndarray, segments: pd.DataFrame, panel_start: int, panel_end: int):\n\t    for index, segment in segments.iterrows():\n\t        index: int\n\t        draw_segment(img, index, segment, panel_start, panel_end)\n"]}
{"filename": "src/sign_language_tools/visualization/video/cv/__init__.py", "chunked_list": []}
{"filename": "src/sign_language_tools/visualization/video/cv/utils.py", "chunked_list": ["import cv2\n\tdef absolute_position(img, pos):\n\t    w = int(img.shape[1])\n\t    h = int(img.shape[0])\n\t    return int(max(0, min(w, w * pos[0]))), int(max(0, min(h, h * pos[1])))\n\tdef draw_connections(img, positions, connections, color=(255, 0, 0), thickness=2):\n\t    pos_nb = len(positions)\n\t    for i, j in connections:\n\t        if i < pos_nb and j < pos_nb:\n\t            x1, y1 = absolute_position(img, positions[i])\n", "            x2, y2 = absolute_position(img, positions[j])\n\t            cv2.line(img, (x1, y1), (x2, y2), color, thickness)\n\tdef draw_points(img, positions, color=(0, 0, 255), thickness=cv2.FILLED, radius=3):\n\t    for pos in positions:\n\t        x, y = absolute_position(img, pos)\n\t        cv2.circle(img, (x, y), radius, color, thickness)\n\tdef draw_rect(img, pos1, pos2, color=(255, 255, 255), thickness=cv2.FILLED):\n\t    cv2.rectangle(img, absolute_position(img, pos1), absolute_position(img, pos2), color=color, thickness=thickness)\n"]}
{"filename": "src/sign_language_tools/visualization/video/cv/landmarks.py", "chunked_list": ["from sign_language_tools.visualization.video.cv.utils import draw_connections, draw_points\n\tdef draw_pose(\n\t        img,\n\t        landmarks,\n\t        connections=None,\n\t        edge_color=(0, 255, 0),\n\t        vertex_color=(0, 0, 255),\n\t        show_vertices: bool = True,\n\t):\n\t    if connections is not None:\n", "        draw_connections(img, landmarks, connections, edge_color)\n\t    if show_vertices:\n\t        draw_points(img, landmarks, vertex_color)\n"]}
