{"filename": "src/test/java/com/home/chat/DdChatApplicationTests.java", "chunked_list": ["package com.home.chat;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass DdChatApplicationTests {\n\n    @Test\n    void contextLoads() {", "    @Test\n    void contextLoads() {\n    }\n\n}\n"]}
{"filename": "src/main/java/com/home/chat/DdChatApplication.java", "chunked_list": ["package com.home.chat;\n\nimport org.mybatis.spring.annotation.MapperScan;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n\n@SpringBootApplication\n@MapperScan({\"com.home.chat.**.dao\"})", "@SpringBootApplication\n@MapperScan({\"com.home.chat.**.dao\"})\n@ComponentScan(\"com.home.chat.*\")\npublic class DdChatApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DdChatApplication.class, args);\n    }\n\n}\n"]}
{"filename": "src/main/java/com/home/chat/redis/RedisDataHelper.java", "chunked_list": ["package com.home.chat.redis;\n\nimport com.alibaba.fastjson.JSON;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.data.redis.core.StringRedisTemplate;\nimport org.springframework.data.redis.serializer.JdkSerializationRedisSerializer;\nimport org.springframework.stereotype.Component;\n", "import org.springframework.stereotype.Component;\n\nimport java.util.*;\nimport java.util.concurrent.TimeUnit;\n\n/**\n * \u8bfb\u53d6redis\u4e2d\u7684\u6570\u636e\u6216\u8005\u64cd\u4f5credis\n * @author dell\n *\n */", " *\n */\n@Slf4j\n@Component\npublic class RedisDataHelper {\n\n\t@Autowired\n\tStringRedisTemplate stringRedisTemplate;\n\n\t@Autowired\n\tRedisTemplate<String,Object> redisTemplate;\n\n\t/**\n\t *\n\t * @param key\n\t * @param map\n\t * @return [key, map]\n\t * @author zhangmj\n\t * @date 2023/2/21 19:11\n\t * @Description setKey \u8bbe\u7f6eMAP\n\t * @version 1.0\n\t * @since JDK 1.8\n\t **/", "\tpublic void setKey(String key, Map<String, Object> map) {\n\t\tthis.redisTemplate.opsForHash().putAll(key, map);\n\t}\n\n\t/**\n\t *\n\t * @param key\n\t * @return [key]\n\t * @author zhangmj\n\t * @date 2023/2/21 19:12\n\t * @Description getMapValue \u83b7\u53d6MAP\u5bf9\u8c61\n\t * @version 1.0\n\t * @since JDK 1.8\n\t **/\n\tpublic Map<Object, Object> getMapValue(String key) {\n\t\treturn this.redisTemplate.opsForHash().entries(key);\n\t}\n\n\t/**\n\t *\n\t * @param key\n\t * @param timeout\n\t * @param unit\n\t * @return [key, timeout, unit]\n\t * @author zhangmj\n\t * @date 2023/2/21 19:13\n\t * @Description expire \u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\n\t * @version 1.0\n\t * @since JDK 1.8\n\t **/", "\tpublic Boolean expire(String key, long timeout, TimeUnit unit) {\n\t\treturn redisTemplate.expire(key, timeout, unit);\n\t}\n\n\t/**\n\t *\n\t * @param key\n\t * @param hashKey\n\t * @return [key, hashKey]\n\t * @author zhangmj\n\t * @date 2023/2/21 19:13\n\t * @Description getValue \u83b7\u53d6map\u4e2d\u7684\u503c\n\t * @version 1.0\n\t * @since JDK 1.8\n\t **/", "\tpublic Object getValue(String key, String hashKey) {\n\t\tif (!hasKey(key)) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.redisTemplate.opsForHash().get(key, hashKey);\n\t}\n\n\tpublic <T> T getValue(String key, String hashKey, Class<T> clazz) {\n\t\tif (!hasKey(key)) {\n\t\t\treturn null;\n\t\t}\n\t\tString mapJson = JSON.toJSONString(redisTemplate.opsForHash().get(key, hashKey));\n\t\treturn JSON.parseObject(mapJson, clazz);\n\t}\n\n\t/**\n\t * \u662f\u5426\u5b58\u5728key\n\t * @param key\n\t * @return\n\t */", "\t\tif (!hasKey(key)) {\n\t\t\treturn null;\n\t\t}\n\t\tString mapJson = JSON.toJSONString(redisTemplate.opsForHash().get(key, hashKey));\n\t\treturn JSON.parseObject(mapJson, clazz);\n\t}\n\n\t/**\n\t * \u662f\u5426\u5b58\u5728key\n\t * @param key\n\t * @return\n\t */", "\tpublic Boolean hasKey(String key) {\n\t\treturn redisTemplate.hasKey(key);\n\t}\n\n\t/**\n\t *\n\t * @param keys\n\t * @return [keys]\n\t * @author zhangmj\n\t * @date 2023/2/21 19:12\n\t * @Description deleteData \u6279\u91cf\u5220\u9664KEY\n\t * @version 1.0\n\t * @since JDK 1.8\n\t **/", "\tpublic void deleteData(List<String> keys) {\n\t\t// \u6267\u884c\u6279\u91cf\u5220\u9664\u64cd\u4f5c\u65f6\u5148\u5e8f\u5217\u5316template\n\t\tredisTemplate.setKeySerializer(new JdkSerializationRedisSerializer());\n\t\tredisTemplate.delete(keys);\n\t}\n\n\t/**\n\t *  \u4fdd\u5b58map\u503c\u5230\u6307\u5b9akey\n\t */\n\tpublic void hput(String key, String field, Object object){\n\t\tredisTemplate.opsForHash().put(key, field, object);\n\t}\n\n}\n", "\tpublic void hput(String key, String field, Object object){\n\t\tredisTemplate.opsForHash().put(key, field, object);\n\t}\n\n}\n"]}
{"filename": "src/main/java/com/home/chat/redis/RedisConfig.java", "chunked_list": ["package com.home.chat.redis;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Scope;\nimport org.springframework.data.redis.connection.RedisConnectionFactory;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.data.redis.core.StringRedisTemplate;", "import org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.data.redis.core.StringRedisTemplate;\nimport org.springframework.data.redis.listener.PatternTopic;\nimport org.springframework.data.redis.listener.RedisMessageListenerContainer;\nimport org.springframework.data.redis.listener.adapter.MessageListenerAdapter;\nimport org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;\nimport org.springframework.data.redis.serializer.RedisSerializer;\nimport org.springframework.data.redis.serializer.StringRedisSerializer;\nimport redis.clients.jedis.Jedis;\nimport redis.clients.jedis.JedisPool;", "import redis.clients.jedis.Jedis;\nimport redis.clients.jedis.JedisPool;\nimport redis.clients.jedis.JedisPoolConfig;\n\n/**\n * @Author: yanyj\n * @Description: TODO\n * @Create By: 2020\u5e743\u670818\u65e5 - \u4e0b\u53482:27:41\n * @Version: 1.0.1\n *", " * @Version: 1.0.1\n *\n */\n@Slf4j\n@Configuration\npublic class RedisConfig {\n\t@Value(\"${spring.redis.host}\")\n\tprivate String host;\n\n\t@Value(\"${spring.redis.port}\")\n\tprivate int port;\n\n\t@Value(\"${spring.redis.timeout}\")\n\tprivate int timeout;\n\n\t@Value(\"${spring.redis.jedis.pool.max-idle}\")\n\tprivate int maxIdle;\n\n\t@Value(\"${spring.redis.jedis.pool.max-wait}\")\n\tprivate long maxWaitMillis;\n\n\t@Value(\"${spring.redis.password}\")\n\tprivate String password;\n\n\t@Bean(name = \"stringRedisTemplate\")", "\tpublic StringRedisTemplate getStringRedisTemplate(RedisConnectionFactory connectionFactory) {\n\t\tStringRedisTemplate stringRedisTemplate = new StringRedisTemplate();\n\t\tstringRedisTemplate.setConnectionFactory(connectionFactory);\n\t\t// \u7531\u4e8e\u652f\u6301redis\u4e8b\u52a1\uff0c\u6240\u4ee5\u83b7\u53d6\u7684\u65f6\u5019\uff0c\u9700\u8981\u7528exec\u83b7\u53d6\u7ed3\u679c\n//\t\tstringRedisTemplate.setEnableTransactionSupport(true);\n\t\tstringRedisTemplate.setHashValueSerializer(new StringRedisSerializer());\n\t\treturn stringRedisTemplate;\n\n\t}\n\n\t@Bean", "\tpublic JedisPool redisPoolFactory() throws Exception {\n\t\tlog.debug(\"JedisPool\u6ce8\u5165\u6210\u529f\uff01\uff01\");\n\t\tlog.debug(\"redis\u5730\u5740\uff1a\" + host + \":\" + port);\n\t\tJedisPoolConfig jedisPoolConfig = new JedisPoolConfig();\n\t\tjedisPoolConfig.setMaxIdle(maxIdle);\n\t\tjedisPoolConfig.setMaxWaitMillis(maxWaitMillis);\n//\t\t// \u8fde\u63a5\u8017\u5c3d\u65f6\u662f\u5426\u963b\u585e, false\u62a5\u5f02\u5e38,ture\u963b\u585e\u76f4\u5230\u8d85\u65f6, \u9ed8\u8ba4true\n//\t\tjedisPoolConfig.setBlockWhenExhausted(blockWhenExhausted);\n\t\t// \u662f\u5426\u542f\u7528pool\u7684jmx\u7ba1\u7406\u529f\u80fd, \u9ed8\u8ba4true\n\t\tjedisPoolConfig.setJmxEnabled(true);\n\t\tJedisPool jedisPool = new JedisPool(jedisPoolConfig, host, port, timeout, password);\n\t\treturn jedisPool;\n\t}\n\n\t@Bean", "\tpublic Jedis getJedis(JedisPool pool) {\n\t\treturn pool.getResource();\n\t}\n\t\n//\t@Bean\n//\tpublic RedisMessageListenerContainer getRedisMessageListenerContainer(RedisConnectionFactory factory) {\n//\t\tRedisMessageListenerContainer redisMessageListenerContainer = new RedisMessageListenerContainer();\n//\t\tredisMessageListenerContainer.setConnectionFactory(factory);\n////\t\tEnumMessageChannel[] channels = EnumMessageChannel.values();\n////\t\tfor (EnumMessageChannel enumMessageChannel : channels) {\n////\t\t\tredisMessageListenerContainer.addMessageListener(getMessageListenerAdapter(), new PatternTopic(enumMessageChannel.getChannelName()));\n////\t\t}\n//\n//\t\tredisMessageListenerContainer.addMessageListener( getMessageListenerAdapter(), new PatternTopic(EnumMessageChannel.refresh_cache.getChannelName()));\n//\t\treturn redisMessageListenerContainer;\n//\t}\n\t\n//\t@Bean\n//\t@Scope(\"prototype\")", "////\t\tfor (EnumMessageChannel enumMessageChannel : channels) {\n////\t\t\tredisMessageListenerContainer.addMessageListener(getMessageListenerAdapter(), new PatternTopic(enumMessageChannel.getChannelName()));\n////\t\t}\n//\n//\t\tredisMessageListenerContainer.addMessageListener( getMessageListenerAdapter(), new PatternTopic(EnumMessageChannel.refresh_cache.getChannelName()));\n//\t\treturn redisMessageListenerContainer;\n//\t}\n\t\n//\t@Bean\n//\t@Scope(\"prototype\")\n//\tpublic MessageListenerAdapter getMessageListenerAdapter() {\n//\t\treturn new MessageListenerAdapter(new RedisSubscriber(), \"receiveMessage\");\n//\t}\n\n\t@Bean\n\tpublic RedisTemplate<String, Object> redisTemplate(RedisConnectionFactory connectionFactory) {\n\t\t// \u521b\u5efa RedisTemplate \u5bf9\u8c61\n\t\tRedisTemplate<String, Object> template = new RedisTemplate<>();\n\t\t// \u8bbe\u7f6e\u8fde\u63a5\u5de5\u5382\n\t\ttemplate.setConnectionFactory(connectionFactory);\n\t\t// \u521b\u5efa JSON \u5e8f\u5217\u5316\u5de5\u5177\n\t\tGenericJackson2JsonRedisSerializer jsonRedisSerializer = new GenericJackson2JsonRedisSerializer();\n\t\t// \u8bbe\u7f6e key \u7684\u5e8f\u5217\u5316\n\t\ttemplate.setKeySerializer(RedisSerializer.string());\n\t\ttemplate.setHashKeySerializer(RedisSerializer.string());\n\t\t// \u8bbe\u7f6e value \u7684\u5e8f\u5217\u5316\n\t\ttemplate.setValueSerializer(jsonRedisSerializer);\n\t\ttemplate.setHashValueSerializer(jsonRedisSerializer);\n\t\t// \u8fd4\u56de\n\t\treturn template;\n\t}\n}\n", "//\tpublic MessageListenerAdapter getMessageListenerAdapter() {\n//\t\treturn new MessageListenerAdapter(new RedisSubscriber(), \"receiveMessage\");\n//\t}\n\n\t@Bean\n\tpublic RedisTemplate<String, Object> redisTemplate(RedisConnectionFactory connectionFactory) {\n\t\t// \u521b\u5efa RedisTemplate \u5bf9\u8c61\n\t\tRedisTemplate<String, Object> template = new RedisTemplate<>();\n\t\t// \u8bbe\u7f6e\u8fde\u63a5\u5de5\u5382\n\t\ttemplate.setConnectionFactory(connectionFactory);\n\t\t// \u521b\u5efa JSON \u5e8f\u5217\u5316\u5de5\u5177\n\t\tGenericJackson2JsonRedisSerializer jsonRedisSerializer = new GenericJackson2JsonRedisSerializer();\n\t\t// \u8bbe\u7f6e key \u7684\u5e8f\u5217\u5316\n\t\ttemplate.setKeySerializer(RedisSerializer.string());\n\t\ttemplate.setHashKeySerializer(RedisSerializer.string());\n\t\t// \u8bbe\u7f6e value \u7684\u5e8f\u5217\u5316\n\t\ttemplate.setValueSerializer(jsonRedisSerializer);\n\t\ttemplate.setHashValueSerializer(jsonRedisSerializer);\n\t\t// \u8fd4\u56de\n\t\treturn template;\n\t}\n}\n"]}
{"filename": "src/main/java/com/home/chat/domain/OpenAiConfig.java", "chunked_list": ["/*\n *  Copyright 2019-2020 Zheng Jie\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software", " *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\npackage com.home.chat.domain;\n\nimport cn.hutool.core.collection.ListUtil;", "\nimport cn.hutool.core.collection.ListUtil;\nimport lombok.Data;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.stereotype.Component;\n\nimport java.util.List;\nimport java.util.Random;\n", "import java.util.Random;\n\n@Data\n@Component\n@Configuration\n@ConfigurationProperties(prefix = \"openai\")\npublic class OpenAiConfig {\n\n    private String keys;\n\n    private String model;\n\n    private Integer maxTokens;\n\n    private Double temperature;\n\n    private String openaiApi;\n\n    private String imageApi;\n\n    private String creditApi;\n\n    private int isFreeEnable = 0;\n", "    public String getApiKey() {\n        // \u8f6c\u4e3a List\n        List<String> keyList = ListUtil.toList(keys.split(\",\"));\n        if(keyList.size() == 1){\n            return keyList.get(0);\n        }\n        // \u6253\u4e71\u987a\u5e8f\n        Random random = new Random();\n        // \u83b7\u53d60~list.size()\u4e4b\u95f4\u7684\u968f\u673a\u6570\n        int index = random.nextInt(keyList.size());\n        // \u83b7\u53d6\u4e00\u4e2a key\n        return keyList.get(index);\n    }\n", "    public boolean isFreeEnable() {\n        return isFreeEnable == 1;\n    }\n}\n"]}
{"filename": "src/main/java/com/home/chat/domain/ChatWebConfig.java", "chunked_list": ["package com.home.chat.domain;\n\n\nimport lombok.Data;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.stereotype.Component;\n\n@Data\n@Component", "@Data\n@Component\n@Configuration\n@ConfigurationProperties(prefix = \"chat\")\npublic class ChatWebConfig {\n    private String content = \"\u3010\u4e1c\u4e1c\u7684AI\u5c0f\u7ad9\u3011\";\n    private String auth = \"dchatbot\";\n    private String freeApiKey;\n    private String notAuthContent;\n}\n"]}
{"filename": "src/main/java/com/home/chat/domain/common/PageVo.java", "chunked_list": ["package com.home.chat.domain.common;\n\nimport lombok.Data;\n\nimport java.util.List;\n\n@Data\npublic class PageVo<T> {\n    private List<T> data;\n    private Long total;\n    private boolean success;\n\n    public PageVo(List<T> data, long total) {\n        this.success = true;\n        this.data = data;\n        this.total = total;\n    }\n\n    public static <T> PageVo<T> build(List<T> datas) {\n        return new PageVo<>(datas, datas.size());\n    }\n}\n"]}
{"filename": "src/main/java/com/home/chat/domain/common/ErrorCode.java", "chunked_list": ["package com.home.chat.domain.common;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\n\nimport java.util.function.Supplier;\n\n@AllArgsConstructor\n@Getter\npublic enum ErrorCode {\n\n    UPLOAD_FAILED(\"\u4e0a\u4f20\u5931\u8d25\", \"\"),\n    NOT_IMAGE_FORMAT(\"\u56fe\u7247\u683c\u5f0f\u9519\u8bef\", \"\");\n\n    private final String msgCn;\n    private final String msgEn;\n", "@Getter\npublic enum ErrorCode {\n\n    UPLOAD_FAILED(\"\u4e0a\u4f20\u5931\u8d25\", \"\"),\n    NOT_IMAGE_FORMAT(\"\u56fe\u7247\u683c\u5f0f\u9519\u8bef\", \"\");\n\n    private final String msgCn;\n    private final String msgEn;\n\n    public static Supplier<BusinessException> throwBizException(ErrorCode errorCode) {\n        return () -> new BusinessException(errorCode);\n    }\n}\n", "    public static Supplier<BusinessException> throwBizException(ErrorCode errorCode) {\n        return () -> new BusinessException(errorCode);\n    }\n}\n"]}
{"filename": "src/main/java/com/home/chat/domain/common/BusinessException.java", "chunked_list": ["package com.home.chat.domain.common;\n\n\npublic class BusinessException extends Exception {\n    public BusinessException(String message) {\n        this.message = message;\n    }\n\n    public BusinessException(ErrorCode errorCode) {\n        this.message = errorCode.getMsgCn();\n    }\n\n    public BusinessException(ErrorCode errorCode, String message) {\n        this.message = errorCode.getMsgCn() + \"[\" + message + \"]\";\n    }\n\n    @Override", "    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    private String message;\n}\n"]}
{"filename": "src/main/java/com/home/chat/utils/DateUtil.java", "chunked_list": ["package com.home.chat.utils;\n\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\n\npublic class DateUtil {\n\n    public static final String YYYYMMDD = \"yyyyMMdd\";\n    public static final String YYYY_MM_DD = \"yyyy-MM-dd\";\n", "    public static final String YYYYMMDD = \"yyyyMMdd\";\n    public static final String YYYY_MM_DD = \"yyyy-MM-dd\";\n\n    public static String getDate(Long millNumber) {\n        return new SimpleDateFormat(YYYYMMDD).format(new Date(millNumber));\n    }\n\n    public static Long getLongDate(Long millNumber){\n        if(millNumber == null || millNumber.longValue() == 0){\n            return 0L;\n        }\n        return Long.valueOf(getDate(millNumber));\n    }\n", "        if(millNumber == null || millNumber.longValue() == 0){\n            return 0L;\n        }\n        return Long.valueOf(getDate(millNumber));\n    }\n\n    public static long getCurrDate() {\n        SimpleDateFormat sf = new SimpleDateFormat(YYYYMMDD);\n        return Long.valueOf(sf.format(new Date()));\n    }\n    /**\n     * \u6839\u636e\u4f20\u5165\u7684\u6570\u636e\u683c\u5f0f\u683c\u5f0f\u5316\u65e5\u671f\n     *\n     * @param date\n     * @param format\n     * @return\n     */", "    public static String getDateFormat(Long date, String format) throws ParseException {\n\n        SimpleDateFormat sf = new SimpleDateFormat(YYYYMMDD);\n        SimpleDateFormat sdf = new SimpleDateFormat(format);\n        return sdf.format(sf.parse(date.toString()));\n    }\n\n}\n"]}
{"filename": "src/main/java/com/home/chat/utils/SensitiveWordsUtils.java", "chunked_list": ["package com.home.chat.utils;\n\nimport cn.hutool.core.io.resource.ClassPathResource;\nimport cn.hutool.core.lang.Validator;\nimport cn.hutool.dfa.WordTree;\nimport cn.hutool.http.HtmlUtil;\nimport lombok.extern.slf4j.Slf4j;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;", "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * @Deacription TODO\n * @Author Zhangmj", " * @Deacription TODO\n * @Author Zhangmj\n * @Date 2023/4/11 10:46\n * @Version 1.0\n **/\n@Slf4j\npublic class SensitiveWordsUtils {\n\n    // \u654f\u611f\u8bcd\u3001\u8fdd\u7981\u8bcd Map\n    private static final WordTree SENSITIVEWORDS = new WordTree();\n\n    /**\n     * \u52a0\u8f7d\u654f\u611f\u8bcd\u3001\u8fdd\u7981\u8bcd\n     */", "    public static void loadBadwords() throws IOException {\n        String path = \"sensitivewords.dic\";\n        ClassPathResource resource = new ClassPathResource(path);\n        InputStream inputStream = resource.getStream();\n        BufferedReader br = new BufferedReader(new InputStreamReader(inputStream));\n        String line = null;\n        while((line = br.readLine())!=null) {\n            SENSITIVEWORDS.addWord(line.trim());\n        }\n        br.close();\n    }\n\n    /**\n     * \u654f\u611f\u8bcd\uff0c\u8fdd\u7981\u8bcd\u68c0\u6d4b\n     */", "    public static List<String> checkBadwords(String content) {\n        if(SENSITIVEWORDS.size() == 0) {\n            try {\n                loadBadwords();\n            } catch (IOException e) {\n                e.printStackTrace();\n                return new ArrayList<>();\n            }\n        }\n\n        // \u5339\u914d\u5230\u6700\u957f\u5173\u952e\u8bcd\uff0c\u8df3\u8fc7\u5df2\u7ecf\u5339\u914d\u7684\u5173\u952e\u8bcd\n        String sentence = HtmlUtil.cleanHtmlTag(content);\n        List<String> words = SENSITIVEWORDS.matchAll(sentence, -1, false, false);\n\n        List<String> newWords = new ArrayList<>();\n        // \u8fc7\u6ee4\u8be5\u8bcd\u5728\u67d0\u4e2a\u5355\u8bcd\u91cc\u9762", "        for(String word : words) {\n            if(Validator.isWord(word) && !content.contains(\" \" + word) && !content.contains(word + \" \")) {\n                continue;\n            }\n            newWords.add(word);\n            log.info(\"\u89e6\u53d1\u654f\u611f\u8bcd\uff1a{}\",word);\n        }\n        return newWords;\n    }\n}\n"]}
{"filename": "src/main/java/com/home/chat/dao/TbApikeyDAO.java", "chunked_list": ["package com.home.chat.dao;\n\nimport com.home.chat.pojo.entity.TbApikeyEntity;\nimport com.home.chat.pojo.query.TbApikeyQuery;\nimport java.util.List;\n\n/**\n * \u6b64\u7c7b\u7531\u5de5\u5177\u81ea\u52a8\u751f\u6210,\u91cd\u65b0\u751f\u6210\u4e0d\u4f1a\u8986\u76d6,\u53ef\u4ee5\u624b\u52a8\u4fee\u6539.\n *\n * \u521b\u5efa\u65e5\u671f:2023-04-10 18:06:33 \u661f\u671f\u4e00", " *\n * \u521b\u5efa\u65e5\u671f:2023-04-10 18:06:33 \u661f\u671f\u4e00\n */\npublic interface TbApikeyDAO {\n    /**\n     * \u5220\u9664\u8868\u8bb0\u5f55,\u901a\u8fc7\u4e3b\u952eid\u5220\u9664\u8bb0\u5f55\n     * @param rowId \u4e3b\u952eid \n     * @return \u5f71\u54cd\u884c\u6570 \n     */\n    int deleteByPrimaryKey(Long rowId);\n\n    /**\n     * \u63d2\u5165\u8868\u8bb0\u5f55,\u6240\u6709\u5b57\u6bb5\u7684\u63d2\u5165\u8bed\u53e5\n     * \u5982\u679c\u6570\u636e\u5e93\u5b57\u6bb5\u4e0d\u5141\u8bb8\u4e3a\u7a7a\u4e14\u6ca1\u6709\u9ed8\u8ba4\u503c,\u8be5\u5c5e\u6027\u5fc5\u987b\u8d4b\u503c,\u5426\u5219\u65e0\u6cd5\u63d2\u5165.\n     * \u5982\u679c\u6570\u636e\u5e93\u5b57\u6bb5\u5141\u8bb8\u4e3a\u7a7a\u6216\u6709\u9ed8\u8ba4\u503c,\u8be5\u5c5e\u6027\u4e3anull\u65f6,\u5c06\u63d2\u5165null.\n     * @param entity \u8868\u8bb0\u5f55\u5b9e\u4f53\u7c7b \n     * @return \u5f71\u54cd\u884c\u6570\n     */\n    int insert(TbApikeyEntity entity);\n\n    /**\n     * \u63d2\u5165\u8868\u8bb0\u5f55,\u751f\u6210\u5c5e\u6027\u4e0d\u4e3anull\u7684\u8bed\u53e5\n     * \u5982\u679c\u6570\u636e\u5e93\u5b57\u6bb5\u4e0d\u5141\u8bb8\u4e3a\u7a7a\u53c8\u6ca1\u6709\u9ed8\u8ba4\u503c,\u8be5\u5c5e\u6027\u5fc5\u987b\u8d4b\u503c,\u5426\u5219\u65e0\u6cd5\u63d2\u5165.\n     * \u5982\u679c\u6570\u636e\u5e93\u5b57\u6bb5\u5141\u8bb8\u4e3a\u7a7a\u6216\u6709\u9ed8\u8ba4\u503c,\u8be5\u5c5e\u6027\u4e3anull\u65f6,\u5c06\u63d2\u5165\u9ed8\u8ba4\u503c.\n     * @param entity \u8868\u8bb0\u5f55\u5b9e\u4f53\u7c7b \n     * @return \u5f71\u54cd\u884c\u6570\n     */\n    int insertSelective(TbApikeyEntity entity);\n\n    /**\n     * \u901a\u8fc7\u4e3b\u952e\u67e5\u8be2\u8868\u8bb0\u5f55\u5bf9\u8c61\n     * @param rowId \u4e3b\u952eID \n     * @return \u8868\u8bb0\u5f55\u5b9e\u4f53\u7c7b\u5bf9\u8c61\n     */\n    TbApikeyEntity selectByPrimaryKey(Long rowId);\n\n    /**\n     * \u901a\u8fc7\u4e3b\u952e\u9009\u62e9\u6027\u66f4\u65b0\u8868\u5b57\u6bb5.\n     * \u5982\u679c\u5165\u53c2\u5bf9\u8c61\u5c5e\u6027\u4e3anull,\u8be5\u5b57\u6bb5\u4e0d\u66f4\u65b0.\n     * @param entity \u8868\u8bb0\u5f55\u5b9e\u4f53\u7c7b\u5bf9\u8c61 \n     * @return \u5f71\u54cd\u884c\u6570\n     */\n    int updateByPrimaryKeySelective(TbApikeyEntity entity);\n\n    /**\n     * \u6839\u636e\u67e5\u8be2\u6761\u4ef6\u5220\u9664\u8868\u8bb0\u5f55\n     * @param query \u67e5\u8be2\u6761\u4ef6\u5bf9\u8c61 \n     * @return \u5f71\u54cd\u884c\u6570\n     */\n    int deleteByQuery(TbApikeyQuery query);\n\n    /**\n     * \u901a\u8fc7\u67e5\u8be2\u6761\u4ef6\u67e5\u8be2\u8bb0\u5f55\u603b\u6570\n     * @param query \u67e5\u8be2\u6761\u4ef6\u5bf9\u8c61\n     * @return \u8bb0\u5f55\u603b\u6570\n     */\n    int countByQuery(TbApikeyQuery query);\n\n    /**\n     * \u5206\u9875\u67e5\u8be2,\u901a\u8fc7\u67e5\u8be2\u6761\u4ef6\u5206\u9875\u67e5\u8be2\u8868\u8bb0\u5f55\u5217\u8868,\u9ed8\u8ba4pageSize:50\u6761.\n     * @param query \u67e5\u8be2\u6761\u4ef6\u5bf9\u8c61\n     * @return \u8868\u8bb0\u5f55\u5b9e\u4f53\u7c7b\u5bf9\u8c61\u96c6\u5408list\n     */\n    List<TbApikeyEntity> queryForPage(TbApikeyQuery query);\n\n    /**\n     * \u901a\u8fc7\u67e5\u8be2\u6761\u4ef6\u67e5\u8be2\u8868\u8bb0\u5f55\u5217\u8868\n     * @param query \u67e5\u8be2\u6761\u4ef6\u5bf9\u8c61\n     * @return \u8868\u8bb0\u5f55\u5b9e\u4f53\u7c7b\u5bf9\u8c61\n     */\n    TbApikeyEntity queryForObject(TbApikeyQuery query);\n    int useOnece(String apikey);\n    /**\n     * \u901a\u8fc7\u67e5\u8be2\u6761\u4ef6\u67e5\u8be2\u6240\u6709\u8bb0\u5f55,\u4e0d\u5206\u9875\n     * @param query \u67e5\u8be2\u6761\u4ef6\u5bf9\u8c61\n     * @return \u8868\u8bb0\u5f55\u5b9e\u4f53\u7c7b\u5bf9\u8c61\u96c6\u5408list\n     */\n    List<TbApikeyEntity> queryForList(TbApikeyQuery query);\n\n    /**\n     * \u6279\u91cf\u5220\u9664,\u901a\u8fc7\u4e3b\u952elist\u5220\u9664\u4e00\u6279\u8868\u8bb0\u5f55\n     * @param idList \u4e3b\u952eID\u5217\u8868list \n     * @return \u5f71\u54cd\u884c\u6570\n     */\n    int batchDelete(List<Long> idList);\n\n    /**\n     * \u6279\u91cf\u63d2\u5165,\u901a\u8fc7\u5b9e\u4f53\u7c7bList\u63d2\u5165\u4e00\u6279\u8868\u8bb0\u5f55\n     * @param entityList \u5b9e\u4f53\u7c7bList \n     * @return int \u63d2\u5165\u6761\u6570\n     */\n    int batchInsert(List<TbApikeyEntity> entityList);\n}"]}
{"filename": "src/main/java/com/home/chat/dao/TbUserKeyDAO.java", "chunked_list": ["package com.home.chat.dao;\n\nimport com.home.chat.pojo.entity.TbUserKeyEntity;\nimport com.home.chat.pojo.query.TbUserKeyQuery;\nimport java.util.List;\n\n/**\n * \u6b64\u7c7b\u7531\u5de5\u5177\u81ea\u52a8\u751f\u6210,\u91cd\u65b0\u751f\u6210\u4e0d\u4f1a\u8986\u76d6,\u53ef\u4ee5\u624b\u52a8\u4fee\u6539.\n *\n * \u521b\u5efa\u65e5\u671f:2023-04-10 18:06:33 \u661f\u671f\u4e00", " *\n * \u521b\u5efa\u65e5\u671f:2023-04-10 18:06:33 \u661f\u671f\u4e00\n */\npublic interface TbUserKeyDAO {\n    /**\n     * \u5220\u9664\u8868\u8bb0\u5f55,\u901a\u8fc7\u4e3b\u952eid\u5220\u9664\u8bb0\u5f55\n     * @param rowId \u4e3b\u952eid \n     * @return \u5f71\u54cd\u884c\u6570 \n     */\n    int deleteByPrimaryKey(Long rowId);\n\n    /**\n     * \u63d2\u5165\u8868\u8bb0\u5f55,\u6240\u6709\u5b57\u6bb5\u7684\u63d2\u5165\u8bed\u53e5\n     * \u5982\u679c\u6570\u636e\u5e93\u5b57\u6bb5\u4e0d\u5141\u8bb8\u4e3a\u7a7a\u4e14\u6ca1\u6709\u9ed8\u8ba4\u503c,\u8be5\u5c5e\u6027\u5fc5\u987b\u8d4b\u503c,\u5426\u5219\u65e0\u6cd5\u63d2\u5165.\n     * \u5982\u679c\u6570\u636e\u5e93\u5b57\u6bb5\u5141\u8bb8\u4e3a\u7a7a\u6216\u6709\u9ed8\u8ba4\u503c,\u8be5\u5c5e\u6027\u4e3anull\u65f6,\u5c06\u63d2\u5165null.\n     * @param entity \u8868\u8bb0\u5f55\u5b9e\u4f53\u7c7b \n     * @return \u5f71\u54cd\u884c\u6570\n     */\n    int insert(TbUserKeyEntity entity);\n\n    /**\n     * \u63d2\u5165\u8868\u8bb0\u5f55,\u751f\u6210\u5c5e\u6027\u4e0d\u4e3anull\u7684\u8bed\u53e5\n     * \u5982\u679c\u6570\u636e\u5e93\u5b57\u6bb5\u4e0d\u5141\u8bb8\u4e3a\u7a7a\u53c8\u6ca1\u6709\u9ed8\u8ba4\u503c,\u8be5\u5c5e\u6027\u5fc5\u987b\u8d4b\u503c,\u5426\u5219\u65e0\u6cd5\u63d2\u5165.\n     * \u5982\u679c\u6570\u636e\u5e93\u5b57\u6bb5\u5141\u8bb8\u4e3a\u7a7a\u6216\u6709\u9ed8\u8ba4\u503c,\u8be5\u5c5e\u6027\u4e3anull\u65f6,\u5c06\u63d2\u5165\u9ed8\u8ba4\u503c.\n     * @param entity \u8868\u8bb0\u5f55\u5b9e\u4f53\u7c7b \n     * @return \u5f71\u54cd\u884c\u6570\n     */\n    int insertSelective(TbUserKeyEntity entity);\n\n    /**\n     * \u901a\u8fc7\u4e3b\u952e\u67e5\u8be2\u8868\u8bb0\u5f55\u5bf9\u8c61\n     * @param rowId \u4e3b\u952eID \n     * @return \u8868\u8bb0\u5f55\u5b9e\u4f53\u7c7b\u5bf9\u8c61\n     */\n    TbUserKeyEntity selectByPrimaryKey(Long rowId);\n\n    /**\n     * \u901a\u8fc7\u4e3b\u952e\u9009\u62e9\u6027\u66f4\u65b0\u8868\u5b57\u6bb5.\n     * \u5982\u679c\u5165\u53c2\u5bf9\u8c61\u5c5e\u6027\u4e3anull,\u8be5\u5b57\u6bb5\u4e0d\u66f4\u65b0.\n     * @param entity \u8868\u8bb0\u5f55\u5b9e\u4f53\u7c7b\u5bf9\u8c61 \n     * @return \u5f71\u54cd\u884c\u6570\n     */\n    int updateByPrimaryKeySelective(TbUserKeyEntity entity);\n\n    /**\n     * \u6839\u636e\u67e5\u8be2\u6761\u4ef6\u5220\u9664\u8868\u8bb0\u5f55\n     * @param query \u67e5\u8be2\u6761\u4ef6\u5bf9\u8c61 \n     * @return \u5f71\u54cd\u884c\u6570\n     */\n    int deleteByQuery(TbUserKeyQuery query);\n\n    /**\n     * \u901a\u8fc7\u67e5\u8be2\u6761\u4ef6\u67e5\u8be2\u8bb0\u5f55\u603b\u6570\n     * @param query \u67e5\u8be2\u6761\u4ef6\u5bf9\u8c61\n     * @return \u8bb0\u5f55\u603b\u6570\n     */\n    int countByQuery(TbUserKeyQuery query);\n\n    /**\n     * \u5206\u9875\u67e5\u8be2,\u901a\u8fc7\u67e5\u8be2\u6761\u4ef6\u5206\u9875\u67e5\u8be2\u8868\u8bb0\u5f55\u5217\u8868,\u9ed8\u8ba4pageSize:50\u6761.\n     * @param query \u67e5\u8be2\u6761\u4ef6\u5bf9\u8c61\n     * @return \u8868\u8bb0\u5f55\u5b9e\u4f53\u7c7b\u5bf9\u8c61\u96c6\u5408list\n     */\n    List<TbUserKeyEntity> queryForPage(TbUserKeyQuery query);\n\n    /**\n     * \u901a\u8fc7\u67e5\u8be2\u6761\u4ef6\u67e5\u8be2\u8868\u8bb0\u5f55\u5217\u8868\n     * @param query \u67e5\u8be2\u6761\u4ef6\u5bf9\u8c61\n     * @return \u8868\u8bb0\u5f55\u5b9e\u4f53\u7c7b\u5bf9\u8c61\n     */\n    TbUserKeyEntity queryForObject(TbUserKeyQuery query);\n    int useOnece(int useTimes,String userkey);\n\n    /**\n     * \u901a\u8fc7\u67e5\u8be2\u6761\u4ef6\u67e5\u8be2\u6240\u6709\u8bb0\u5f55,\u4e0d\u5206\u9875\n     * @param query \u67e5\u8be2\u6761\u4ef6\u5bf9\u8c61\n     * @return \u8868\u8bb0\u5f55\u5b9e\u4f53\u7c7b\u5bf9\u8c61\u96c6\u5408list\n     */\n    List<TbUserKeyEntity> queryForList(TbUserKeyQuery query);\n\n    /**\n     * \u6279\u91cf\u5220\u9664,\u901a\u8fc7\u4e3b\u952elist\u5220\u9664\u4e00\u6279\u8868\u8bb0\u5f55\n     * @param idList \u4e3b\u952eID\u5217\u8868list \n     * @return \u5f71\u54cd\u884c\u6570\n     */\n    int batchDelete(List<Long> idList);\n\n    /**\n     * \u6279\u91cf\u63d2\u5165,\u901a\u8fc7\u5b9e\u4f53\u7c7bList\u63d2\u5165\u4e00\u6279\u8868\u8bb0\u5f55\n     * @param entityList \u5b9e\u4f53\u7c7bList \n     * @return int \u63d2\u5165\u6761\u6570\n     */\n    int batchInsert(List<TbUserKeyEntity> entityList);\n}"]}
{"filename": "src/main/java/com/home/chat/pojo/Constant.java", "chunked_list": ["package com.home.chat.pojo;\n\n/**\n * @Deacription TODO\n * @Author Zhangmj\n * @Date 2023/4/10 18:10\n * @Version 1.0\n **/\npublic class Constant {\n\n    public static final String API_KEY_ = \"api_key:chat\";\n", "public class Constant {\n\n    public static final String API_KEY_ = \"api_key:chat\";\n\n    public static final String SENSITIVEWORDS = \"sensitive_words:\";\n\n    public static final String SENSITIVE_WORDS_SCAN = \"sensitive_words_scan:\";\n\n}\n"]}
{"filename": "src/main/java/com/home/chat/pojo/query/TbUserKeyQuery.java", "chunked_list": ["package com.home.chat.pojo.query;\n\nimport com.home.chat.pojo.entity.TbUserKeyEntity;\nimport java.util.List;\n\n/**\n * \u6b64\u7c7b\u7531\u5de5\u5177\u751f\u6210,\u91cd\u65b0\u751f\u6210\u4e0d\u4f1a\u8986\u76d6,\u53ef\u4ee5\u624b\u52a8\u4fee\u6539.\n * This class corresponds to the database table tb_user_key\n *\n * \u521b\u5efa\u65e5\u671f:2023-04-10 18:06:33 \u661f\u671f\u4e00", " *\n * \u521b\u5efa\u65e5\u671f:2023-04-10 18:06:33 \u661f\u671f\u4e00\n */\npublic class TbUserKeyQuery extends QueryPage<TbUserKeyEntity> {\n\n    /**\n     *\n     *  column tb_user_key.row_id\n     */\n    private Long rowId;\n\n    /**\n     *\n     *  column tb_user_key.create_date\n     */\n    private Long createDate;\n\n    /**\n     *\n     *  column tb_user_key.create_time\n     */\n    private Long createTime;\n\n    /**\n     *\n     *  column tb_user_key.update_date\n     */\n    private Long updateDate;\n\n    /**\n     *\n     *  column tb_user_key.update_time\n     */\n    private Long updateTime;\n\n    /**\n     *\n     *  column tb_user_key.update_times\n     */\n    private Long updateTimes;\n\n    /**\n     * user key;\n     *\n     *  column tb_user_key.user_key\n     */\n    private String userKey;\n\n    /**\n     * \u5269\u4f59\u6b21\u6570;\n     *\n     *  column tb_user_key.remaining_count\n     */\n    private Long remainingCount;\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     *  column tb_user_key.expire_date\n     */\n    private Long expireDate;\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     *  column tb_user_key.use_times\n     */\n    private Long useTimes;\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2,\u672a\u6fc0\u6d3b-3\n     *\n     *  column tb_user_key.valid_status\n     */\n    private String validStatus;\n\n    /**\n     * \u7ed1\u5b9aIP\n     *\n     *  column tb_user_key.bind_ip\n     */\n    private String bindIp;\n\n    /**\n     * \u7ed1\u5b9a\u624b\u673a\n     *\n     *  column tb_user_key.bind_phone\n     */\n    private String bindPhone;\n\n    /**\n     *\n     *  column tb_user_key.row_id\n     */\n    private List<Long> rowIds;\n\n    /**\n     * row_id\n     *\n     * @return the value of tb_user_key.row_id\n     */", "    public Long getRowId() {\n        return rowId;\n    }\n\n    /**\n     * row_id\n     *\n     * @param rowId the value for tb_user_key.row_id\n     */\n    public void setRowId(Long rowId) {\n        this.rowId = rowId;\n    }\n\n    /**\n     * create_date\n     *\n     * @return the value of tb_user_key.create_date\n     */", "    public void setRowId(Long rowId) {\n        this.rowId = rowId;\n    }\n\n    /**\n     * create_date\n     *\n     * @return the value of tb_user_key.create_date\n     */\n    public Long getCreateDate() {\n        return createDate;\n    }\n\n    /**\n     * create_date\n     *\n     * @param createDate the value for tb_user_key.create_date\n     */", "    public Long getCreateDate() {\n        return createDate;\n    }\n\n    /**\n     * create_date\n     *\n     * @param createDate the value for tb_user_key.create_date\n     */\n    public void setCreateDate(Long createDate) {\n        this.createDate = createDate;\n    }\n\n    /**\n     * create_time\n     *\n     * @return the value of tb_user_key.create_time\n     */", "    public void setCreateDate(Long createDate) {\n        this.createDate = createDate;\n    }\n\n    /**\n     * create_time\n     *\n     * @return the value of tb_user_key.create_time\n     */\n    public Long getCreateTime() {\n        return createTime;\n    }\n\n    /**\n     * create_time\n     *\n     * @param createTime the value for tb_user_key.create_time\n     */", "    public Long getCreateTime() {\n        return createTime;\n    }\n\n    /**\n     * create_time\n     *\n     * @param createTime the value for tb_user_key.create_time\n     */\n    public void setCreateTime(Long createTime) {\n        this.createTime = createTime;\n    }\n\n    /**\n     * update_date\n     *\n     * @return the value of tb_user_key.update_date\n     */", "    public void setCreateTime(Long createTime) {\n        this.createTime = createTime;\n    }\n\n    /**\n     * update_date\n     *\n     * @return the value of tb_user_key.update_date\n     */\n    public Long getUpdateDate() {\n        return updateDate;\n    }\n\n    /**\n     * update_date\n     *\n     * @param updateDate the value for tb_user_key.update_date\n     */", "    public Long getUpdateDate() {\n        return updateDate;\n    }\n\n    /**\n     * update_date\n     *\n     * @param updateDate the value for tb_user_key.update_date\n     */\n    public void setUpdateDate(Long updateDate) {\n        this.updateDate = updateDate;\n    }\n\n    /**\n     * update_time\n     *\n     * @return the value of tb_user_key.update_time\n     */", "    public void setUpdateDate(Long updateDate) {\n        this.updateDate = updateDate;\n    }\n\n    /**\n     * update_time\n     *\n     * @return the value of tb_user_key.update_time\n     */\n    public Long getUpdateTime() {\n        return updateTime;\n    }\n\n    /**\n     * update_time\n     *\n     * @param updateTime the value for tb_user_key.update_time\n     */", "    public Long getUpdateTime() {\n        return updateTime;\n    }\n\n    /**\n     * update_time\n     *\n     * @param updateTime the value for tb_user_key.update_time\n     */\n    public void setUpdateTime(Long updateTime) {\n        this.updateTime = updateTime;\n    }\n\n    /**\n     * update_times\n     *\n     * @return the value of tb_user_key.update_times\n     */", "    public void setUpdateTime(Long updateTime) {\n        this.updateTime = updateTime;\n    }\n\n    /**\n     * update_times\n     *\n     * @return the value of tb_user_key.update_times\n     */\n    public Long getUpdateTimes() {\n        return updateTimes;\n    }\n\n    /**\n     * update_times\n     *\n     * @param updateTimes the value for tb_user_key.update_times\n     */", "    public Long getUpdateTimes() {\n        return updateTimes;\n    }\n\n    /**\n     * update_times\n     *\n     * @param updateTimes the value for tb_user_key.update_times\n     */\n    public void setUpdateTimes(Long updateTimes) {\n        this.updateTimes = updateTimes;\n    }\n\n    /**\n     * user key;\n     *\n     * @return the value of tb_user_key.user_key\n     */", "    public void setUpdateTimes(Long updateTimes) {\n        this.updateTimes = updateTimes;\n    }\n\n    /**\n     * user key;\n     *\n     * @return the value of tb_user_key.user_key\n     */\n    public String getUserKey() {\n        return userKey;\n    }\n\n    /**\n     * user key;\n     *\n     * @param userKey the value for tb_user_key.user_key\n     */", "    public String getUserKey() {\n        return userKey;\n    }\n\n    /**\n     * user key;\n     *\n     * @param userKey the value for tb_user_key.user_key\n     */\n    public void setUserKey(String userKey) {\n        this.userKey = userKey == null ? null : userKey.trim();\n    }\n\n    /**\n     * \u5269\u4f59\u6b21\u6570;\n     *\n     * @return the value of tb_user_key.remaining_count\n     */", "    public void setUserKey(String userKey) {\n        this.userKey = userKey == null ? null : userKey.trim();\n    }\n\n    /**\n     * \u5269\u4f59\u6b21\u6570;\n     *\n     * @return the value of tb_user_key.remaining_count\n     */\n    public Long getRemainingCount() {\n        return remainingCount;\n    }\n\n    /**\n     * \u5269\u4f59\u6b21\u6570;\n     *\n     * @param remainingCount the value for tb_user_key.remaining_count\n     */", "    public Long getRemainingCount() {\n        return remainingCount;\n    }\n\n    /**\n     * \u5269\u4f59\u6b21\u6570;\n     *\n     * @param remainingCount the value for tb_user_key.remaining_count\n     */\n    public void setRemainingCount(Long remainingCount) {\n        this.remainingCount = remainingCount;\n    }\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     * @return the value of tb_user_key.expire_date\n     */", "    public void setRemainingCount(Long remainingCount) {\n        this.remainingCount = remainingCount;\n    }\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     * @return the value of tb_user_key.expire_date\n     */\n    public Long getExpireDate() {\n        return expireDate;\n    }\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     * @param expireDate the value for tb_user_key.expire_date\n     */", "    public Long getExpireDate() {\n        return expireDate;\n    }\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     * @param expireDate the value for tb_user_key.expire_date\n     */\n    public void setExpireDate(Long expireDate) {\n        this.expireDate = expireDate;\n    }\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     * @return the value of tb_user_key.use_times\n     */", "    public void setExpireDate(Long expireDate) {\n        this.expireDate = expireDate;\n    }\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     * @return the value of tb_user_key.use_times\n     */\n    public Long getUseTimes() {\n        return useTimes;\n    }\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     * @param useTimes the value for tb_user_key.use_times\n     */", "    public Long getUseTimes() {\n        return useTimes;\n    }\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     * @param useTimes the value for tb_user_key.use_times\n     */\n    public void setUseTimes(Long useTimes) {\n        this.useTimes = useTimes;\n    }\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2,\u672a\u6fc0\u6d3b-3\n     *\n     * @return the value of tb_user_key.valid_status\n     */", "    public void setUseTimes(Long useTimes) {\n        this.useTimes = useTimes;\n    }\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2,\u672a\u6fc0\u6d3b-3\n     *\n     * @return the value of tb_user_key.valid_status\n     */\n    public String getValidStatus() {\n        return validStatus;\n    }\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2,\u672a\u6fc0\u6d3b-3\n     *\n     * @param validStatus the value for tb_user_key.valid_status\n     */", "    public String getValidStatus() {\n        return validStatus;\n    }\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2,\u672a\u6fc0\u6d3b-3\n     *\n     * @param validStatus the value for tb_user_key.valid_status\n     */\n    public void setValidStatus(String validStatus) {\n        this.validStatus = validStatus == null ? null : validStatus.trim();\n    }\n\n    /**\n     * \u7ed1\u5b9aIP\n     *\n     * @return the value of tb_user_key.bind_ip\n     */", "    public void setValidStatus(String validStatus) {\n        this.validStatus = validStatus == null ? null : validStatus.trim();\n    }\n\n    /**\n     * \u7ed1\u5b9aIP\n     *\n     * @return the value of tb_user_key.bind_ip\n     */\n    public String getBindIp() {\n        return bindIp;\n    }\n\n    /**\n     * \u7ed1\u5b9aIP\n     *\n     * @param bindIp the value for tb_user_key.bind_ip\n     */", "    public String getBindIp() {\n        return bindIp;\n    }\n\n    /**\n     * \u7ed1\u5b9aIP\n     *\n     * @param bindIp the value for tb_user_key.bind_ip\n     */\n    public void setBindIp(String bindIp) {\n        this.bindIp = bindIp == null ? null : bindIp.trim();\n    }\n\n    /**\n     * \u7ed1\u5b9a\u624b\u673a\n     *\n     * @return the value of tb_user_key.bind_phone\n     */", "    public void setBindIp(String bindIp) {\n        this.bindIp = bindIp == null ? null : bindIp.trim();\n    }\n\n    /**\n     * \u7ed1\u5b9a\u624b\u673a\n     *\n     * @return the value of tb_user_key.bind_phone\n     */\n    public String getBindPhone() {\n        return bindPhone;\n    }\n\n    /**\n     * row_id\n     *\n     * @return the value of tb_user_key.row_id\n     */\n    public List<Long> getRowIds() {\n        return rowIds;\n    }\n\n    /**\n     * row_id\n     *\n     * @param rowIds the value for tb_user_key.row_id\n     */", "    public String getBindPhone() {\n        return bindPhone;\n    }\n\n    /**\n     * row_id\n     *\n     * @return the value of tb_user_key.row_id\n     */\n    public List<Long> getRowIds() {\n        return rowIds;\n    }\n\n    /**\n     * row_id\n     *\n     * @param rowIds the value for tb_user_key.row_id\n     */", "    public void setRowIds(List<Long> rowIds) {\n        this.rowIds = rowIds;\n    }\n\n    /**\n     * \u7ed1\u5b9a\u624b\u673a\n     *\n     * @param bindPhone the value for tb_user_key.bind_phone\n     */\n    public void setBindPhone(String bindPhone) {\n        this.bindPhone = bindPhone == null ? null : bindPhone.trim();\n    }\n}", "    public void setBindPhone(String bindPhone) {\n        this.bindPhone = bindPhone == null ? null : bindPhone.trim();\n    }\n}"]}
{"filename": "src/main/java/com/home/chat/pojo/query/QueryPage.java", "chunked_list": ["/**\n * \u7cfb\u7edf\u540d\u79f0: \n * \u6a21\u5757\u540d\u79f0:\n * \u521b\u5efa\u8005\uff1a     zhouwm\n * \u521b\u5efa\u65f6\u95f4\uff1a 2018\u5e745\u670824\u65e5\u4e0a\u53488:29:33\n * \u4e3b\u8981\u529f\u80fd\uff1a\n * \u76f8\u5173\u6587\u6863:\n * \u4fee\u6539\u8bb0\u5f55:\n * \u4fee\u6539\u65e5\u671f      \u4fee\u6539\u4eba\u5458                     \u4fee\u6539\u8bf4\u660e<BR>\n * ========     ======  ============================================", " * \u4fee\u6539\u65e5\u671f      \u4fee\u6539\u4eba\u5458                     \u4fee\u6539\u8bf4\u660e<BR>\n * ========     ======  ============================================\n *   \n * ========     ======  ============================================\n * \u8bc4\u5ba1\u8bb0\u5f55\uff1a\n * \n * \u8bc4\u5ba1\u4eba\u5458\uff1a\n * \u8bc4\u5ba1\u65e5\u671f\uff1a\n * \u53d1\u73b0\u95ee\u9898\uff1a\n */", " * \u53d1\u73b0\u95ee\u9898\uff1a\n */\npackage com.home.chat.pojo.query;\n\nimport java.util.List;\n\npublic class QueryPage<T> {\n\n\tprivate static final long serialVersionUID = 9097196584393175462L;\n\t/**\n\t * \u603b\u8bb0\u5f55\u6570\n\t */\n\tprotected int totalCount;\n\n\t/**\n\t * \u6bcf\u9875\u8bb0\u5f55\u6570\u5927\u5c0f\n\t */\n\tprotected int pageSize = 20;\n\n\t/**\n\t * \u67e5\u8be2\u7b2c\u51e0\u9875\n\t */\n\tprotected int pageNo = 1;\n\n\t/**\n\t * \u6392\u5e8f\u5b57\u6bb5,\u5982: row_id desc, create_date asc\n\t */\n\tprivate String order;\n\n\t/**\n\t * \u5206\u9875\u67e5\u8be2\u8fd4\u56de\u7684\u7ed3\u679cList\n\t */\n\tList<T> data;\n\n\t/**\n\t * \u662f\u5426\u9700\u8981\u5206\u9875\n\t **/\n\tprivate Boolean needPaging;\n\n\t/**\n\t * \u83b7\u53d6\u5f00\u59cb\u7684\u8bb0\u5f55\u6761\u6570\u5e8f\u53f7,\u4ece0\u5f00\u59cb\n\t * \n\t * @return\n\t */", "\tpublic int getStart() {\n\t\treturn (pageNo - 1) * pageSize;\n\t}\n\n\t/**\n\t * \u83b7\u53d6\u603b\u9875\u6570\n\t * \n\t * @return\n\t */\n\tpublic int getTotalPages() {\n\t\tif (totalCount % pageSize == 0) {\n\t\t\treturn totalCount / pageSize;\n\t\t} else {\n\t\t\treturn totalCount / pageSize + 1;\n\t\t}\n\t}\n", "\tpublic int getTotalPages() {\n\t\tif (totalCount % pageSize == 0) {\n\t\t\treturn totalCount / pageSize;\n\t\t} else {\n\t\t\treturn totalCount / pageSize + 1;\n\t\t}\n\t}\n\n\tpublic int getTotalCount() {\n\t\treturn totalCount;\n\t}\n", "\tpublic int getTotalCount() {\n\t\treturn totalCount;\n\t}\n\n\tpublic void setTotalCount(int totalCount) {\n\t\tthis.totalCount = totalCount;\n\t}\n\n\tpublic int getPageSize() {\n\t\treturn pageSize;\n\t}\n", "\tpublic int getPageSize() {\n\t\treturn pageSize;\n\t}\n\n\tpublic void setPageSize(int pageSize) {\n\t\tthis.pageSize = pageSize;\n\t}\n\n\tpublic int getPageNo() {\n\t\treturn pageNo;\n\t}\n", "\tpublic int getPageNo() {\n\t\treturn pageNo;\n\t}\n\n\tpublic void setPageNo(int pageNo) {\n\t\tthis.pageNo = pageNo;\n\t}\n\n\tpublic String getOrder() {\n\t\treturn order;\n\t}\n", "\tpublic String getOrder() {\n\t\treturn order;\n\t}\n\n\tpublic void setOrder(String order) {\n\t\tthis.order = order;\n\t}\n\n\tpublic List<T> getData() {\n\t\treturn data;\n\t}\n", "\tpublic void setData(List<T> data) {\n\t\tthis.data = data;\n\t}\n\n\tpublic Boolean getNeedPaging() {\n\t\treturn needPaging;\n\t}\n\n\tpublic void setNeedPaging(Boolean needPaging) {\n\t\tthis.needPaging = needPaging;\n\t}\n}\n", "\tpublic void setNeedPaging(Boolean needPaging) {\n\t\tthis.needPaging = needPaging;\n\t}\n}\n"]}
{"filename": "src/main/java/com/home/chat/pojo/query/TbApikeyQuery.java", "chunked_list": ["package com.home.chat.pojo.query;\n\nimport com.home.chat.pojo.entity.TbApikeyEntity;\nimport java.util.List;\n\n/**\n * \u6b64\u7c7b\u7531\u5de5\u5177\u751f\u6210,\u91cd\u65b0\u751f\u6210\u4e0d\u4f1a\u8986\u76d6,\u53ef\u4ee5\u624b\u52a8\u4fee\u6539.\n * This class corresponds to the database table tb_apikey\n *\n * \u521b\u5efa\u65e5\u671f:2023-04-10 18:06:33 \u661f\u671f\u4e00", " *\n * \u521b\u5efa\u65e5\u671f:2023-04-10 18:06:33 \u661f\u671f\u4e00\n */\npublic class TbApikeyQuery extends QueryPage<TbApikeyEntity> {\n\n    /**\n     *\n     *  column tb_apikey.row_id\n     */\n    private Long rowId;\n\n    private Long endDate;\n", "    public Long getEndDate() {\n        return endDate;\n    }\n\n    public void setEndDate(Long endDate) {\n        this.endDate = endDate;\n    }\n\n    /**\n     *\n     *  column tb_apikey.create_date\n     */\n    private Long createDate;\n\n    /**\n     *\n     *  column tb_apikey.create_time\n     */\n    private Long createTime;\n\n    /**\n     *\n     *  column tb_apikey.update_date\n     */\n    private Long updateDate;\n\n    /**\n     *\n     *  column tb_apikey.update_time\n     */\n    private Long updateTime;\n\n    /**\n     *\n     *  column tb_apikey.update_times\n     */\n    private Long updateTimes;\n\n    /**\n     * api key;\n     *\n     *  column tb_apikey.api_key\n     */\n    private String apiKey;\n\n    /**\n     * \u4f59\u989d;\n     *\n     *  column tb_apikey.balance\n     */\n    private String balance;\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     *  column tb_apikey.expire_date\n     */\n    private Long expireDate;\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     *  column tb_apikey.use_times\n     */\n    private Long useTimes;\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2\n     *\n     *  column tb_apikey.valid_status\n     */\n    private String validStatus;\n\n    /**\n     *\n     *  column tb_apikey.row_id\n     */\n    private List<Long> rowIds;\n\n    /**\n     * row_id\n     *\n     * @return the value of tb_apikey.row_id\n     */", "    public Long getRowId() {\n        return rowId;\n    }\n\n    /**\n     * row_id\n     *\n     * @param rowId the value for tb_apikey.row_id\n     */\n    public void setRowId(Long rowId) {\n        this.rowId = rowId;\n    }\n\n    /**\n     * create_date\n     *\n     * @return the value of tb_apikey.create_date\n     */", "    public void setRowId(Long rowId) {\n        this.rowId = rowId;\n    }\n\n    /**\n     * create_date\n     *\n     * @return the value of tb_apikey.create_date\n     */\n    public Long getCreateDate() {\n        return createDate;\n    }\n\n    /**\n     * create_date\n     *\n     * @param createDate the value for tb_apikey.create_date\n     */", "    public Long getCreateDate() {\n        return createDate;\n    }\n\n    /**\n     * create_date\n     *\n     * @param createDate the value for tb_apikey.create_date\n     */\n    public void setCreateDate(Long createDate) {\n        this.createDate = createDate;\n    }\n\n    /**\n     * create_time\n     *\n     * @return the value of tb_apikey.create_time\n     */", "    public void setCreateDate(Long createDate) {\n        this.createDate = createDate;\n    }\n\n    /**\n     * create_time\n     *\n     * @return the value of tb_apikey.create_time\n     */\n    public Long getCreateTime() {\n        return createTime;\n    }\n\n    /**\n     * create_time\n     *\n     * @param createTime the value for tb_apikey.create_time\n     */", "    public Long getCreateTime() {\n        return createTime;\n    }\n\n    /**\n     * create_time\n     *\n     * @param createTime the value for tb_apikey.create_time\n     */\n    public void setCreateTime(Long createTime) {\n        this.createTime = createTime;\n    }\n\n    /**\n     * update_date\n     *\n     * @return the value of tb_apikey.update_date\n     */", "    public void setCreateTime(Long createTime) {\n        this.createTime = createTime;\n    }\n\n    /**\n     * update_date\n     *\n     * @return the value of tb_apikey.update_date\n     */\n    public Long getUpdateDate() {\n        return updateDate;\n    }\n\n    /**\n     * update_date\n     *\n     * @param updateDate the value for tb_apikey.update_date\n     */", "    public Long getUpdateDate() {\n        return updateDate;\n    }\n\n    /**\n     * update_date\n     *\n     * @param updateDate the value for tb_apikey.update_date\n     */\n    public void setUpdateDate(Long updateDate) {\n        this.updateDate = updateDate;\n    }\n\n    /**\n     * update_time\n     *\n     * @return the value of tb_apikey.update_time\n     */", "    public void setUpdateDate(Long updateDate) {\n        this.updateDate = updateDate;\n    }\n\n    /**\n     * update_time\n     *\n     * @return the value of tb_apikey.update_time\n     */\n    public Long getUpdateTime() {\n        return updateTime;\n    }\n\n    /**\n     * update_time\n     *\n     * @param updateTime the value for tb_apikey.update_time\n     */", "    public Long getUpdateTime() {\n        return updateTime;\n    }\n\n    /**\n     * update_time\n     *\n     * @param updateTime the value for tb_apikey.update_time\n     */\n    public void setUpdateTime(Long updateTime) {\n        this.updateTime = updateTime;\n    }\n\n    /**\n     * update_times\n     *\n     * @return the value of tb_apikey.update_times\n     */", "    public void setUpdateTime(Long updateTime) {\n        this.updateTime = updateTime;\n    }\n\n    /**\n     * update_times\n     *\n     * @return the value of tb_apikey.update_times\n     */\n    public Long getUpdateTimes() {\n        return updateTimes;\n    }\n\n    /**\n     * update_times\n     *\n     * @param updateTimes the value for tb_apikey.update_times\n     */", "    public Long getUpdateTimes() {\n        return updateTimes;\n    }\n\n    /**\n     * update_times\n     *\n     * @param updateTimes the value for tb_apikey.update_times\n     */\n    public void setUpdateTimes(Long updateTimes) {\n        this.updateTimes = updateTimes;\n    }\n\n    /**\n     * api key;\n     *\n     * @return the value of tb_apikey.api_key\n     */", "    public void setUpdateTimes(Long updateTimes) {\n        this.updateTimes = updateTimes;\n    }\n\n    /**\n     * api key;\n     *\n     * @return the value of tb_apikey.api_key\n     */\n    public String getApiKey() {\n        return apiKey;\n    }\n\n    /**\n     * api key;\n     *\n     * @param apiKey the value for tb_apikey.api_key\n     */", "    public String getApiKey() {\n        return apiKey;\n    }\n\n    /**\n     * api key;\n     *\n     * @param apiKey the value for tb_apikey.api_key\n     */\n    public void setApiKey(String apiKey) {\n        this.apiKey = apiKey == null ? null : apiKey.trim();\n    }\n\n    /**\n     * \u4f59\u989d;\n     *\n     * @return the value of tb_apikey.balance\n     */", "    public void setApiKey(String apiKey) {\n        this.apiKey = apiKey == null ? null : apiKey.trim();\n    }\n\n    /**\n     * \u4f59\u989d;\n     *\n     * @return the value of tb_apikey.balance\n     */\n    public String getBalance() {\n        return balance;\n    }\n\n    /**\n     * \u4f59\u989d;\n     *\n     * @param balance the value for tb_apikey.balance\n     */", "    public String getBalance() {\n        return balance;\n    }\n\n    /**\n     * \u4f59\u989d;\n     *\n     * @param balance the value for tb_apikey.balance\n     */\n    public void setBalance(String balance) {\n        this.balance = balance == null ? null : balance.trim();\n    }\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     * @return the value of tb_apikey.expire_date\n     */", "    public void setBalance(String balance) {\n        this.balance = balance == null ? null : balance.trim();\n    }\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     * @return the value of tb_apikey.expire_date\n     */\n    public Long getExpireDate() {\n        return expireDate;\n    }\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     * @param expireDate the value for tb_apikey.expire_date\n     */", "    public Long getExpireDate() {\n        return expireDate;\n    }\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     * @param expireDate the value for tb_apikey.expire_date\n     */\n    public void setExpireDate(Long expireDate) {\n        this.expireDate = expireDate;\n    }\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     * @return the value of tb_apikey.use_times\n     */", "    public void setExpireDate(Long expireDate) {\n        this.expireDate = expireDate;\n    }\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     * @return the value of tb_apikey.use_times\n     */\n    public Long getUseTimes() {\n        return useTimes;\n    }\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     * @param useTimes the value for tb_apikey.use_times\n     */", "    public Long getUseTimes() {\n        return useTimes;\n    }\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     * @param useTimes the value for tb_apikey.use_times\n     */\n    public void setUseTimes(Long useTimes) {\n        this.useTimes = useTimes;\n    }\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2\n     *\n     * @return the value of tb_apikey.valid_status\n     */", "    public void setUseTimes(Long useTimes) {\n        this.useTimes = useTimes;\n    }\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2\n     *\n     * @return the value of tb_apikey.valid_status\n     */\n    public String getValidStatus() {\n        return validStatus;\n    }\n\n    /**\n     * row_id\n     *\n     * @return the value of tb_apikey.row_id\n     */\n    public List<Long> getRowIds() {\n        return rowIds;\n    }\n\n    /**\n     * row_id\n     *\n     * @param rowIds the value for tb_apikey.row_id\n     */", "    public String getValidStatus() {\n        return validStatus;\n    }\n\n    /**\n     * row_id\n     *\n     * @return the value of tb_apikey.row_id\n     */\n    public List<Long> getRowIds() {\n        return rowIds;\n    }\n\n    /**\n     * row_id\n     *\n     * @param rowIds the value for tb_apikey.row_id\n     */", "    public void setRowIds(List<Long> rowIds) {\n        this.rowIds = rowIds;\n    }\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2\n     *\n     * @param validStatus the value for tb_apikey.valid_status\n     */\n    public void setValidStatus(String validStatus) {\n        this.validStatus = validStatus == null ? null : validStatus.trim();\n    }\n}", "    public void setValidStatus(String validStatus) {\n        this.validStatus = validStatus == null ? null : validStatus.trim();\n    }\n}"]}
{"filename": "src/main/java/com/home/chat/pojo/entity/TbApikeyEntity.java", "chunked_list": ["package com.home.chat.pojo.entity;\n\n/**\n *\n * \u6b64\u7c7b\u7531\u5de5\u5177\u81ea\u52a8\u751f\u6210,\u91cd\u65b0\u751f\u6210\u540e\u8be5\u7c7b\u5c06\u88ab\u8986\u76d6,\u8bf7\u52ff\u624b\u52a8\u4fee\u6539!\n * \u5bf9\u5e94\u8868: tb_apikey\n *\n * \u521b\u5efa\u65e5\u671f:2023-04-10 18:06:33 \u661f\u671f\u4e00\n */\npublic class TbApikeyEntity {\n\n    /**\n     *\n     *  column tb_apikey.row_id\n     */\n    private Long rowId;\n\n    /**\n     *\n     *  column tb_apikey.create_date\n     */\n    private Long createDate;\n\n    /**\n     *\n     *  column tb_apikey.create_time\n     */\n    private Long createTime;\n\n    /**\n     *\n     *  column tb_apikey.update_date\n     */\n    private Long updateDate;\n\n    /**\n     *\n     *  column tb_apikey.update_time\n     */\n    private Long updateTime;\n\n    /**\n     *\n     *  column tb_apikey.update_times\n     */\n    private Long updateTimes;\n\n    /**\n     * api key;\n     *\n     *  column tb_apikey.api_key\n     */\n    private String apiKey;\n\n    /**\n     * \u4f59\u989d;\n     *\n     *  column tb_apikey.balance\n     */\n    private String balance;\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     *  column tb_apikey.expire_date\n     */\n    private Long expireDate;\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     *  column tb_apikey.use_times\n     */\n    private Long useTimes;\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2\n     *\n     *  column tb_apikey.valid_status\n     */\n    private String validStatus;\n\n    /**\n     * row_id\n     *\n     * @return the value of tb_apikey.row_id\n     */", " */\npublic class TbApikeyEntity {\n\n    /**\n     *\n     *  column tb_apikey.row_id\n     */\n    private Long rowId;\n\n    /**\n     *\n     *  column tb_apikey.create_date\n     */\n    private Long createDate;\n\n    /**\n     *\n     *  column tb_apikey.create_time\n     */\n    private Long createTime;\n\n    /**\n     *\n     *  column tb_apikey.update_date\n     */\n    private Long updateDate;\n\n    /**\n     *\n     *  column tb_apikey.update_time\n     */\n    private Long updateTime;\n\n    /**\n     *\n     *  column tb_apikey.update_times\n     */\n    private Long updateTimes;\n\n    /**\n     * api key;\n     *\n     *  column tb_apikey.api_key\n     */\n    private String apiKey;\n\n    /**\n     * \u4f59\u989d;\n     *\n     *  column tb_apikey.balance\n     */\n    private String balance;\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     *  column tb_apikey.expire_date\n     */\n    private Long expireDate;\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     *  column tb_apikey.use_times\n     */\n    private Long useTimes;\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2\n     *\n     *  column tb_apikey.valid_status\n     */\n    private String validStatus;\n\n    /**\n     * row_id\n     *\n     * @return the value of tb_apikey.row_id\n     */", "    public Long getRowId() {\n        return rowId;\n    }\n\n    /**\n     * row_id\n     *\n     * @param rowId the value for tb_apikey.row_id\n     */\n    public void setRowId(Long rowId) {\n        this.rowId = rowId;\n    }\n\n    /**\n     * create_date\n     *\n     * @return the value of tb_apikey.create_date\n     */", "    public void setRowId(Long rowId) {\n        this.rowId = rowId;\n    }\n\n    /**\n     * create_date\n     *\n     * @return the value of tb_apikey.create_date\n     */\n    public Long getCreateDate() {\n        return createDate;\n    }\n\n    /**\n     * create_date\n     *\n     * @param createDate the value for tb_apikey.create_date\n     */", "    public Long getCreateDate() {\n        return createDate;\n    }\n\n    /**\n     * create_date\n     *\n     * @param createDate the value for tb_apikey.create_date\n     */\n    public void setCreateDate(Long createDate) {\n        this.createDate = createDate;\n    }\n\n    /**\n     * create_time\n     *\n     * @return the value of tb_apikey.create_time\n     */", "    public void setCreateDate(Long createDate) {\n        this.createDate = createDate;\n    }\n\n    /**\n     * create_time\n     *\n     * @return the value of tb_apikey.create_time\n     */\n    public Long getCreateTime() {\n        return createTime;\n    }\n\n    /**\n     * create_time\n     *\n     * @param createTime the value for tb_apikey.create_time\n     */", "    public Long getCreateTime() {\n        return createTime;\n    }\n\n    /**\n     * create_time\n     *\n     * @param createTime the value for tb_apikey.create_time\n     */\n    public void setCreateTime(Long createTime) {\n        this.createTime = createTime;\n    }\n\n    /**\n     * update_date\n     *\n     * @return the value of tb_apikey.update_date\n     */", "    public void setCreateTime(Long createTime) {\n        this.createTime = createTime;\n    }\n\n    /**\n     * update_date\n     *\n     * @return the value of tb_apikey.update_date\n     */\n    public Long getUpdateDate() {\n        return updateDate;\n    }\n\n    /**\n     * update_date\n     *\n     * @param updateDate the value for tb_apikey.update_date\n     */", "    public Long getUpdateDate() {\n        return updateDate;\n    }\n\n    /**\n     * update_date\n     *\n     * @param updateDate the value for tb_apikey.update_date\n     */\n    public void setUpdateDate(Long updateDate) {\n        this.updateDate = updateDate;\n    }\n\n    /**\n     * update_time\n     *\n     * @return the value of tb_apikey.update_time\n     */", "    public void setUpdateDate(Long updateDate) {\n        this.updateDate = updateDate;\n    }\n\n    /**\n     * update_time\n     *\n     * @return the value of tb_apikey.update_time\n     */\n    public Long getUpdateTime() {\n        return updateTime;\n    }\n\n    /**\n     * update_time\n     *\n     * @param updateTime the value for tb_apikey.update_time\n     */", "    public Long getUpdateTime() {\n        return updateTime;\n    }\n\n    /**\n     * update_time\n     *\n     * @param updateTime the value for tb_apikey.update_time\n     */\n    public void setUpdateTime(Long updateTime) {\n        this.updateTime = updateTime;\n    }\n\n    /**\n     * update_times\n     *\n     * @return the value of tb_apikey.update_times\n     */", "    public void setUpdateTime(Long updateTime) {\n        this.updateTime = updateTime;\n    }\n\n    /**\n     * update_times\n     *\n     * @return the value of tb_apikey.update_times\n     */\n    public Long getUpdateTimes() {\n        return updateTimes;\n    }\n\n    /**\n     * update_times\n     *\n     * @param updateTimes the value for tb_apikey.update_times\n     */", "    public Long getUpdateTimes() {\n        return updateTimes;\n    }\n\n    /**\n     * update_times\n     *\n     * @param updateTimes the value for tb_apikey.update_times\n     */\n    public void setUpdateTimes(Long updateTimes) {\n        this.updateTimes = updateTimes;\n    }\n\n    /**\n     * api key;\n     *\n     * @return the value of tb_apikey.api_key\n     */", "    public void setUpdateTimes(Long updateTimes) {\n        this.updateTimes = updateTimes;\n    }\n\n    /**\n     * api key;\n     *\n     * @return the value of tb_apikey.api_key\n     */\n    public String getApiKey() {\n        return apiKey;\n    }\n\n    /**\n     * api key;\n     *\n     * @param apiKey the value for tb_apikey.api_key\n     */", "    public String getApiKey() {\n        return apiKey;\n    }\n\n    /**\n     * api key;\n     *\n     * @param apiKey the value for tb_apikey.api_key\n     */\n    public void setApiKey(String apiKey) {\n        this.apiKey = apiKey == null ? null : apiKey.trim();\n    }\n\n    /**\n     * \u4f59\u989d;\n     *\n     * @return the value of tb_apikey.balance\n     */", "    public void setApiKey(String apiKey) {\n        this.apiKey = apiKey == null ? null : apiKey.trim();\n    }\n\n    /**\n     * \u4f59\u989d;\n     *\n     * @return the value of tb_apikey.balance\n     */\n    public String getBalance() {\n        return balance;\n    }\n\n    /**\n     * \u4f59\u989d;\n     *\n     * @param balance the value for tb_apikey.balance\n     */", "    public String getBalance() {\n        return balance;\n    }\n\n    /**\n     * \u4f59\u989d;\n     *\n     * @param balance the value for tb_apikey.balance\n     */\n    public void setBalance(String balance) {\n        this.balance = balance == null ? null : balance.trim();\n    }\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     * @return the value of tb_apikey.expire_date\n     */", "    public void setBalance(String balance) {\n        this.balance = balance == null ? null : balance.trim();\n    }\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     * @return the value of tb_apikey.expire_date\n     */\n    public Long getExpireDate() {\n        return expireDate;\n    }\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     * @param expireDate the value for tb_apikey.expire_date\n     */", "    public Long getExpireDate() {\n        return expireDate;\n    }\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     * @param expireDate the value for tb_apikey.expire_date\n     */\n    public void setExpireDate(Long expireDate) {\n        this.expireDate = expireDate;\n    }\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     * @return the value of tb_apikey.use_times\n     */", "    public void setExpireDate(Long expireDate) {\n        this.expireDate = expireDate;\n    }\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     * @return the value of tb_apikey.use_times\n     */\n    public Long getUseTimes() {\n        return useTimes;\n    }\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     * @param useTimes the value for tb_apikey.use_times\n     */", "    public Long getUseTimes() {\n        return useTimes;\n    }\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     * @param useTimes the value for tb_apikey.use_times\n     */\n    public void setUseTimes(Long useTimes) {\n        this.useTimes = useTimes;\n    }\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2\n     *\n     * @return the value of tb_apikey.valid_status\n     */", "    public void setUseTimes(Long useTimes) {\n        this.useTimes = useTimes;\n    }\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2\n     *\n     * @return the value of tb_apikey.valid_status\n     */\n    public String getValidStatus() {\n        return validStatus;\n    }\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2\n     *\n     * @param validStatus the value for tb_apikey.valid_status\n     */", "    public String getValidStatus() {\n        return validStatus;\n    }\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2\n     *\n     * @param validStatus the value for tb_apikey.valid_status\n     */\n    public void setValidStatus(String validStatus) {\n        this.validStatus = validStatus == null ? null : validStatus.trim();\n    }\n}", "    public void setValidStatus(String validStatus) {\n        this.validStatus = validStatus == null ? null : validStatus.trim();\n    }\n}"]}
{"filename": "src/main/java/com/home/chat/pojo/entity/TbUserKeyEntity.java", "chunked_list": ["package com.home.chat.pojo.entity;\n\n/**\n *\n * \u6b64\u7c7b\u7531\u5de5\u5177\u81ea\u52a8\u751f\u6210,\u91cd\u65b0\u751f\u6210\u540e\u8be5\u7c7b\u5c06\u88ab\u8986\u76d6,\u8bf7\u52ff\u624b\u52a8\u4fee\u6539!\n * \u5bf9\u5e94\u8868: tb_user_key\n *\n * \u521b\u5efa\u65e5\u671f:2023-04-10 18:06:33 \u661f\u671f\u4e00\n */\npublic class TbUserKeyEntity {\n\n    /**\n     *\n     *  column tb_user_key.row_id\n     */\n    private Long rowId;\n\n    /**\n     *\n     *  column tb_user_key.create_date\n     */\n    private Long createDate;\n\n    /**\n     *\n     *  column tb_user_key.create_time\n     */\n    private Long createTime;\n\n    /**\n     *\n     *  column tb_user_key.update_date\n     */\n    private Long updateDate;\n\n    /**\n     *\n     *  column tb_user_key.update_time\n     */\n    private Long updateTime;\n\n    /**\n     *\n     *  column tb_user_key.update_times\n     */\n    private Long updateTimes;\n\n    /**\n     * user key;\n     *\n     *  column tb_user_key.user_key\n     */\n    private String userKey;\n\n    /**\n     * \u5269\u4f59\u6b21\u6570;\n     *\n     *  column tb_user_key.remaining_count\n     */\n    private Long remainingCount;\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     *  column tb_user_key.expire_date\n     */\n    private Long expireDate;\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     *  column tb_user_key.use_times\n     */\n    private Long useTimes;\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2,\u672a\u6fc0\u6d3b-3\n     *\n     *  column tb_user_key.valid_status\n     */\n    private String validStatus;\n\n    /**\n     * \u7ed1\u5b9aIP\n     *\n     *  column tb_user_key.bind_ip\n     */\n    private String bindIp;\n\n    /**\n     * \u7ed1\u5b9a\u624b\u673a\n     *\n     *  column tb_user_key.bind_phone\n     */\n    private String bindPhone;\n\n    /**\n     * row_id\n     *\n     * @return the value of tb_user_key.row_id\n     */", " */\npublic class TbUserKeyEntity {\n\n    /**\n     *\n     *  column tb_user_key.row_id\n     */\n    private Long rowId;\n\n    /**\n     *\n     *  column tb_user_key.create_date\n     */\n    private Long createDate;\n\n    /**\n     *\n     *  column tb_user_key.create_time\n     */\n    private Long createTime;\n\n    /**\n     *\n     *  column tb_user_key.update_date\n     */\n    private Long updateDate;\n\n    /**\n     *\n     *  column tb_user_key.update_time\n     */\n    private Long updateTime;\n\n    /**\n     *\n     *  column tb_user_key.update_times\n     */\n    private Long updateTimes;\n\n    /**\n     * user key;\n     *\n     *  column tb_user_key.user_key\n     */\n    private String userKey;\n\n    /**\n     * \u5269\u4f59\u6b21\u6570;\n     *\n     *  column tb_user_key.remaining_count\n     */\n    private Long remainingCount;\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     *  column tb_user_key.expire_date\n     */\n    private Long expireDate;\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     *  column tb_user_key.use_times\n     */\n    private Long useTimes;\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2,\u672a\u6fc0\u6d3b-3\n     *\n     *  column tb_user_key.valid_status\n     */\n    private String validStatus;\n\n    /**\n     * \u7ed1\u5b9aIP\n     *\n     *  column tb_user_key.bind_ip\n     */\n    private String bindIp;\n\n    /**\n     * \u7ed1\u5b9a\u624b\u673a\n     *\n     *  column tb_user_key.bind_phone\n     */\n    private String bindPhone;\n\n    /**\n     * row_id\n     *\n     * @return the value of tb_user_key.row_id\n     */", "    public Long getRowId() {\n        return rowId;\n    }\n\n    /**\n     * row_id\n     *\n     * @param rowId the value for tb_user_key.row_id\n     */\n    public void setRowId(Long rowId) {\n        this.rowId = rowId;\n    }\n\n    /**\n     * create_date\n     *\n     * @return the value of tb_user_key.create_date\n     */", "    public void setRowId(Long rowId) {\n        this.rowId = rowId;\n    }\n\n    /**\n     * create_date\n     *\n     * @return the value of tb_user_key.create_date\n     */\n    public Long getCreateDate() {\n        return createDate;\n    }\n\n    /**\n     * create_date\n     *\n     * @param createDate the value for tb_user_key.create_date\n     */", "    public Long getCreateDate() {\n        return createDate;\n    }\n\n    /**\n     * create_date\n     *\n     * @param createDate the value for tb_user_key.create_date\n     */\n    public void setCreateDate(Long createDate) {\n        this.createDate = createDate;\n    }\n\n    /**\n     * create_time\n     *\n     * @return the value of tb_user_key.create_time\n     */", "    public void setCreateDate(Long createDate) {\n        this.createDate = createDate;\n    }\n\n    /**\n     * create_time\n     *\n     * @return the value of tb_user_key.create_time\n     */\n    public Long getCreateTime() {\n        return createTime;\n    }\n\n    /**\n     * create_time\n     *\n     * @param createTime the value for tb_user_key.create_time\n     */", "    public Long getCreateTime() {\n        return createTime;\n    }\n\n    /**\n     * create_time\n     *\n     * @param createTime the value for tb_user_key.create_time\n     */\n    public void setCreateTime(Long createTime) {\n        this.createTime = createTime;\n    }\n\n    /**\n     * update_date\n     *\n     * @return the value of tb_user_key.update_date\n     */", "    public void setCreateTime(Long createTime) {\n        this.createTime = createTime;\n    }\n\n    /**\n     * update_date\n     *\n     * @return the value of tb_user_key.update_date\n     */\n    public Long getUpdateDate() {\n        return updateDate;\n    }\n\n    /**\n     * update_date\n     *\n     * @param updateDate the value for tb_user_key.update_date\n     */", "    public Long getUpdateDate() {\n        return updateDate;\n    }\n\n    /**\n     * update_date\n     *\n     * @param updateDate the value for tb_user_key.update_date\n     */\n    public void setUpdateDate(Long updateDate) {\n        this.updateDate = updateDate;\n    }\n\n    /**\n     * update_time\n     *\n     * @return the value of tb_user_key.update_time\n     */", "    public void setUpdateDate(Long updateDate) {\n        this.updateDate = updateDate;\n    }\n\n    /**\n     * update_time\n     *\n     * @return the value of tb_user_key.update_time\n     */\n    public Long getUpdateTime() {\n        return updateTime;\n    }\n\n    /**\n     * update_time\n     *\n     * @param updateTime the value for tb_user_key.update_time\n     */", "    public Long getUpdateTime() {\n        return updateTime;\n    }\n\n    /**\n     * update_time\n     *\n     * @param updateTime the value for tb_user_key.update_time\n     */\n    public void setUpdateTime(Long updateTime) {\n        this.updateTime = updateTime;\n    }\n\n    /**\n     * update_times\n     *\n     * @return the value of tb_user_key.update_times\n     */", "    public void setUpdateTime(Long updateTime) {\n        this.updateTime = updateTime;\n    }\n\n    /**\n     * update_times\n     *\n     * @return the value of tb_user_key.update_times\n     */\n    public Long getUpdateTimes() {\n        return updateTimes;\n    }\n\n    /**\n     * update_times\n     *\n     * @param updateTimes the value for tb_user_key.update_times\n     */", "    public Long getUpdateTimes() {\n        return updateTimes;\n    }\n\n    /**\n     * update_times\n     *\n     * @param updateTimes the value for tb_user_key.update_times\n     */\n    public void setUpdateTimes(Long updateTimes) {\n        this.updateTimes = updateTimes;\n    }\n\n    /**\n     * user key;\n     *\n     * @return the value of tb_user_key.user_key\n     */", "    public void setUpdateTimes(Long updateTimes) {\n        this.updateTimes = updateTimes;\n    }\n\n    /**\n     * user key;\n     *\n     * @return the value of tb_user_key.user_key\n     */\n    public String getUserKey() {\n        return userKey;\n    }\n\n    /**\n     * user key;\n     *\n     * @param userKey the value for tb_user_key.user_key\n     */", "    public String getUserKey() {\n        return userKey;\n    }\n\n    /**\n     * user key;\n     *\n     * @param userKey the value for tb_user_key.user_key\n     */\n    public void setUserKey(String userKey) {\n        this.userKey = userKey == null ? null : userKey.trim();\n    }\n\n    /**\n     * \u5269\u4f59\u6b21\u6570;\n     *\n     * @return the value of tb_user_key.remaining_count\n     */", "    public void setUserKey(String userKey) {\n        this.userKey = userKey == null ? null : userKey.trim();\n    }\n\n    /**\n     * \u5269\u4f59\u6b21\u6570;\n     *\n     * @return the value of tb_user_key.remaining_count\n     */\n    public Long getRemainingCount() {\n        return remainingCount;\n    }\n\n    /**\n     * \u5269\u4f59\u6b21\u6570;\n     *\n     * @param remainingCount the value for tb_user_key.remaining_count\n     */", "    public Long getRemainingCount() {\n        return remainingCount;\n    }\n\n    /**\n     * \u5269\u4f59\u6b21\u6570;\n     *\n     * @param remainingCount the value for tb_user_key.remaining_count\n     */\n    public void setRemainingCount(Long remainingCount) {\n        this.remainingCount = remainingCount;\n    }\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     * @return the value of tb_user_key.expire_date\n     */", "    public void setRemainingCount(Long remainingCount) {\n        this.remainingCount = remainingCount;\n    }\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     * @return the value of tb_user_key.expire_date\n     */\n    public Long getExpireDate() {\n        return expireDate;\n    }\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     * @param expireDate the value for tb_user_key.expire_date\n     */", "    public Long getExpireDate() {\n        return expireDate;\n    }\n\n    /**\n     * \u5931\u6548\u65e5\u671f\n     *\n     * @param expireDate the value for tb_user_key.expire_date\n     */\n    public void setExpireDate(Long expireDate) {\n        this.expireDate = expireDate;\n    }\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     * @return the value of tb_user_key.use_times\n     */", "    public void setExpireDate(Long expireDate) {\n        this.expireDate = expireDate;\n    }\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     * @return the value of tb_user_key.use_times\n     */\n    public Long getUseTimes() {\n        return useTimes;\n    }\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     * @param useTimes the value for tb_user_key.use_times\n     */", "    public Long getUseTimes() {\n        return useTimes;\n    }\n\n    /**\n     * \u4f7f\u7528\u6b21\u6570\n     *\n     * @param useTimes the value for tb_user_key.use_times\n     */\n    public void setUseTimes(Long useTimes) {\n        this.useTimes = useTimes;\n    }\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2,\u672a\u6fc0\u6d3b-3\n     *\n     * @return the value of tb_user_key.valid_status\n     */", "    public void setUseTimes(Long useTimes) {\n        this.useTimes = useTimes;\n    }\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2,\u672a\u6fc0\u6d3b-3\n     *\n     * @return the value of tb_user_key.valid_status\n     */\n    public String getValidStatus() {\n        return validStatus;\n    }\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2,\u672a\u6fc0\u6d3b-3\n     *\n     * @param validStatus the value for tb_user_key.valid_status\n     */", "    public String getValidStatus() {\n        return validStatus;\n    }\n\n    /**\n     * \u6b63\u5e38-1,\u5931\u6548-2,\u672a\u6fc0\u6d3b-3\n     *\n     * @param validStatus the value for tb_user_key.valid_status\n     */\n    public void setValidStatus(String validStatus) {\n        this.validStatus = validStatus == null ? null : validStatus.trim();\n    }\n\n    /**\n     * \u7ed1\u5b9aIP\n     *\n     * @return the value of tb_user_key.bind_ip\n     */", "    public void setValidStatus(String validStatus) {\n        this.validStatus = validStatus == null ? null : validStatus.trim();\n    }\n\n    /**\n     * \u7ed1\u5b9aIP\n     *\n     * @return the value of tb_user_key.bind_ip\n     */\n    public String getBindIp() {\n        return bindIp;\n    }\n\n    /**\n     * \u7ed1\u5b9aIP\n     *\n     * @param bindIp the value for tb_user_key.bind_ip\n     */", "    public String getBindIp() {\n        return bindIp;\n    }\n\n    /**\n     * \u7ed1\u5b9aIP\n     *\n     * @param bindIp the value for tb_user_key.bind_ip\n     */\n    public void setBindIp(String bindIp) {\n        this.bindIp = bindIp == null ? null : bindIp.trim();\n    }\n\n    /**\n     * \u7ed1\u5b9a\u624b\u673a\n     *\n     * @return the value of tb_user_key.bind_phone\n     */", "    public void setBindIp(String bindIp) {\n        this.bindIp = bindIp == null ? null : bindIp.trim();\n    }\n\n    /**\n     * \u7ed1\u5b9a\u624b\u673a\n     *\n     * @return the value of tb_user_key.bind_phone\n     */\n    public String getBindPhone() {\n        return bindPhone;\n    }\n\n    /**\n     * \u7ed1\u5b9a\u624b\u673a\n     *\n     * @param bindPhone the value for tb_user_key.bind_phone\n     */", "    public String getBindPhone() {\n        return bindPhone;\n    }\n\n    /**\n     * \u7ed1\u5b9a\u624b\u673a\n     *\n     * @param bindPhone the value for tb_user_key.bind_phone\n     */\n    public void setBindPhone(String bindPhone) {\n        this.bindPhone = bindPhone == null ? null : bindPhone.trim();\n    }\n}", "    public void setBindPhone(String bindPhone) {\n        this.bindPhone = bindPhone == null ? null : bindPhone.trim();\n    }\n}"]}
{"filename": "src/main/java/com/home/chat/configrations/JsonLoader.java", "chunked_list": ["package com.home.chat.configrations;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.AllArgsConstructor;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.ResourceLoader;\nimport org.springframework.stereotype.Component;\n\nimport java.io.IOException;\n", "import java.io.IOException;\n\n@AllArgsConstructor\n@Component\npublic class JsonLoader {\n    private final ObjectMapper mapper;\n    private final ResourceLoader resourceLoader;\n\n    public <T> T loadJson(String path, Class<T> clazz) throws IOException {\n        Resource resource = resourceLoader.getResource(\"classpath:\" + path);\n        return mapper.readValue(resource.getInputStream(), clazz);\n    }\n}\n"]}
{"filename": "src/main/java/com/home/chat/configrations/BeanConfig.java", "chunked_list": ["package com.home.chat.configrations;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\nimport org.springframework.web.socket.server.standard.ServerEndpointExporter;\n\nimport java.util.concurrent.Executor;\n", "import java.util.concurrent.Executor;\n\n@Configuration\npublic class BeanConfig {\n\n    @Bean\n    public ThreadPoolTaskScheduler taskScheduler(){\n        ThreadPoolTaskScheduler taskScheduler = new ThreadPoolTaskScheduler();\n        taskScheduler.setPoolSize(1000);\n        taskScheduler.initialize();\n        return taskScheduler;\n    }\n\n    @Bean(\"taskExecutor\")", "    public Executor taskExecutor() {\n        ThreadPoolTaskExecutor pool = new ThreadPoolTaskExecutor();\n        pool.setCorePoolSize(100); //\u7ebf\u7a0b\u6c60\u6d3b\u8dc3\u7684\u7ebf\u7a0b\u6570\n        pool.setMaxPoolSize(1000); //\u7ebf\u7a0b\u6c60\u6700\u5927\u6d3b\u8dc3\u7684\u7ebf\u7a0b\u6570\n        pool.setWaitForTasksToCompleteOnShutdown(true);\n        pool.setThreadNamePrefix(\"defaultExecutor\");\n        return pool;\n    }\n\n\n    @Bean", "    public ServerEndpointExporter serverEndpointExporter(){\n        return new ServerEndpointExporter();\n    }\n}\n"]}
{"filename": "src/main/java/com/home/chat/configrations/CorsConfig.java", "chunked_list": ["package com.home.chat.configrations;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\nimport org.springframework.web.filter.CorsFilter;\n\n@Configuration\npublic class CorsConfig {\n    private CorsConfiguration buildConfig() {\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\n        corsConfiguration.addAllowedOrigin(\"*\");   //\u53ef\u4ee5\u901a\u8fc7\u7684ip\uff0c*\u4ee3\u8868\u6240\u6709\uff0c\u53ef\u4ee5\u4f7f\u7528\u6307\u5b9a\u7684ip\uff0c\u591a\u4e2a\u7684\u8bdd\u53ef\u4ee5\u7528\u9017\u53f7\u5206\u9694\uff0c\u9ed8\u8ba4\u4e3a*\n        corsConfiguration.addAllowedHeader(\"*\");  //\u8bf7\u6c42\u652f\u6301\u7684\u5934\u4fe1\u606f\uff0c\u9ed8\u8ba4\u4e3a*\uff0c\u6240\u6709\n        corsConfiguration.addAllowedMethod(\"*\");  //\u8bf7\u6c42\u65b9\u5f0f \u9ed8\u8ba4\u4e3a*,\u6240\u6709\n        corsConfiguration.setAllowCredentials(true);  //\u652f\u6301\u8bc1\u4e66\uff0c\u9ed8\u8ba4\u4e3atrue\n        return corsConfiguration;\n    }\n\n    // \u901a\u8fc7\u6dfb\u52a0 Filter \u7684\u65b9\u5f0f\uff0c\u914d\u7f6e CORS \u89c4\u5219\uff0c\u5e76\u624b\u52a8\u6307\u5b9a\u5bf9\u54ea\u4e9b\u63a5\u53e3\u6709\u6548\n    @Bean", "@Configuration\npublic class CorsConfig {\n    private CorsConfiguration buildConfig() {\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\n        corsConfiguration.addAllowedOrigin(\"*\");   //\u53ef\u4ee5\u901a\u8fc7\u7684ip\uff0c*\u4ee3\u8868\u6240\u6709\uff0c\u53ef\u4ee5\u4f7f\u7528\u6307\u5b9a\u7684ip\uff0c\u591a\u4e2a\u7684\u8bdd\u53ef\u4ee5\u7528\u9017\u53f7\u5206\u9694\uff0c\u9ed8\u8ba4\u4e3a*\n        corsConfiguration.addAllowedHeader(\"*\");  //\u8bf7\u6c42\u652f\u6301\u7684\u5934\u4fe1\u606f\uff0c\u9ed8\u8ba4\u4e3a*\uff0c\u6240\u6709\n        corsConfiguration.addAllowedMethod(\"*\");  //\u8bf7\u6c42\u65b9\u5f0f \u9ed8\u8ba4\u4e3a*,\u6240\u6709\n        corsConfiguration.setAllowCredentials(true);  //\u652f\u6301\u8bc1\u4e66\uff0c\u9ed8\u8ba4\u4e3atrue\n        return corsConfiguration;\n    }\n\n    // \u901a\u8fc7\u6dfb\u52a0 Filter \u7684\u65b9\u5f0f\uff0c\u914d\u7f6e CORS \u89c4\u5219\uff0c\u5e76\u624b\u52a8\u6307\u5b9a\u5bf9\u54ea\u4e9b\u63a5\u53e3\u6709\u6548\n    @Bean", "    public CorsFilter corsFilter() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(\"/**\", buildConfig());  // CORS \u914d\u7f6e\u5bf9\u6240\u6709\u63a5\u53e3\u90fd\u6709\u6548\n        return new CorsFilter(source);\n    }\n\n\n}\n"]}
{"filename": "src/main/java/com/home/chat/client/ChatgptClient.java", "chunked_list": ["package com.home.chat.client;\n\n\nimport org.springframework.cloud.openfeign.FeignClient;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestHeader;\n\nimport java.util.HashMap;\nimport java.util.Map;", "import java.util.HashMap;\nimport java.util.Map;\n\n@FeignClient(name = \"chatgpt-client\", url = \"https://api.openai.com/v1/chat/completions\")\npublic interface ChatgptClient {\n\n    @PostMapping()\n    void send(@RequestBody HashMap<Object, Object> params, @RequestHeader Map<String,String> header);\n\n}\n"]}
{"filename": "src/main/java/com/home/chat/services/ChatGPTService.java", "chunked_list": ["package com.home.chat.services;\n\nimport cn.hutool.core.map.MapUtil;\nimport cn.hutool.core.text.UnicodeUtil;\nimport cn.hutool.core.util.StrUtil;\nimport cn.hutool.http.Header;\nimport cn.hutool.http.HttpRequest;\nimport cn.hutool.http.HttpResponse;\nimport cn.hutool.json.JSONObject;\nimport cn.hutool.json.JSONUtil;", "import cn.hutool.json.JSONObject;\nimport cn.hutool.json.JSONUtil;\nimport com.home.chat.controllers.request.Message;\nimport com.home.chat.controllers.request.QueryUserBalanceRequest;\nimport com.home.chat.controllers.response.QueryBalanceResponse;\nimport com.home.chat.controllers.response.QueryUserBalanceResponse;\nimport com.home.chat.dao.TbApikeyDAO;\nimport com.home.chat.dao.TbUserKeyDAO;\nimport com.home.chat.domain.OpenAiConfig;\nimport com.home.chat.domain.ChatWebConfig;", "import com.home.chat.domain.OpenAiConfig;\nimport com.home.chat.domain.ChatWebConfig;\nimport com.home.chat.pojo.entity.TbApikeyEntity;\nimport com.home.chat.pojo.entity.TbUserKeyEntity;\nimport com.home.chat.pojo.query.TbApikeyQuery;\nimport com.home.chat.pojo.query.TbUserKeyQuery;\nimport com.home.chat.utils.DateUtil;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.commons.lang3.StringUtils;", "import lombok.extern.slf4j.Slf4j;\nimport org.apache.commons.lang3.StringUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.HashMap;\nimport java.util.List;", "import java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.function.Consumer;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\n\n@Service", "\n@Service\n@RequiredArgsConstructor\n@Slf4j\npublic class ChatGPTService {\n\n    private final OpenAiConfig openAiConfig;\n    private final ChatWebConfig xinQiuConfig;\n\n    @Autowired\n    TbApikeyDAO tbApikeyDAO;\n\n    @Autowired\n    TbUserKeyDAO tbUserKeyDAO;\n\n", "    public QueryBalanceResponse creditQuery(String key) {\n\n        String apikey = openAiConfig.getApiKey();\n        if (StrUtil.isNotBlank(key)) {\n            apikey = key;\n        }\n        String result = HttpRequest.get(openAiConfig.getCreditApi())\n                .header(Header.CONTENT_TYPE, \"application/json\")\n                .header(Header.AUTHORIZATION, \"Bearer \" + apikey)\n                .execute().body();\n        if (result.contains(\"server_error\")) {\n            throw new RuntimeException(\"\u8bf7\u6c42ChatGPT\u5b98\u65b9\u670d\u52a1\u5668\u51fa\u9519\");\n        }\n        JSONObject jsonObject = JSONUtil.parseObj(result);\n        // \u8fd4\u56de\u7ed3\u679c\n        return QueryBalanceResponse.builder()\n                .balances(jsonObject.getStr(\"total_available\"))\n                .build();\n    }\n\n    private void genImage(Message message, String key, Consumer<String> send) {\n        // \u8bf7\u6c42\u53c2\u6570\n        Map<String, String> userMessage = MapUtil.of(\n                \"size\", \"512x512\"\n        );\n        userMessage.put(\"prompt\", message.getMessage().get(0));\n\n        // \u8c03\u7528\u63a5\u53e3\n        String result = HttpRequest.post(openAiConfig.getImageApi())\n                .header(Header.CONTENT_TYPE, \"application/json\")\n                .header(Header.AUTHORIZATION, \"Bearer \" + key)\n                .body(JSONUtil.toJsonStr(userMessage))\n                .execute().body();\n        // \u6b63\u5219\u5339\u914d\u51fa\u7ed3\u679c\n        Pattern p = Pattern.compile(\"\\\"url\\\": \\\"(.*?)\\\"\");\n        Matcher m = p.matcher(result);", "        if (result.contains(\"server_error\")) {\n            throw new RuntimeException(\"\u8bf7\u6c42ChatGPT\u5b98\u65b9\u670d\u52a1\u5668\u51fa\u9519\");\n        }\n        JSONObject jsonObject = JSONUtil.parseObj(result);\n        // \u8fd4\u56de\u7ed3\u679c\n        return QueryBalanceResponse.builder()\n                .balances(jsonObject.getStr(\"total_available\"))\n                .build();\n    }\n\n    private void genImage(Message message, String key, Consumer<String> send) {\n        // \u8bf7\u6c42\u53c2\u6570\n        Map<String, String> userMessage = MapUtil.of(\n                \"size\", \"512x512\"\n        );\n        userMessage.put(\"prompt\", message.getMessage().get(0));\n\n        // \u8c03\u7528\u63a5\u53e3\n        String result = HttpRequest.post(openAiConfig.getImageApi())\n                .header(Header.CONTENT_TYPE, \"application/json\")\n                .header(Header.AUTHORIZATION, \"Bearer \" + key)\n                .body(JSONUtil.toJsonStr(userMessage))\n                .execute().body();\n        // \u6b63\u5219\u5339\u914d\u51fa\u7ed3\u679c\n        Pattern p = Pattern.compile(\"\\\"url\\\": \\\"(.*?)\\\"\");\n        Matcher m = p.matcher(result);", "        if (m.find()) {\n            send.accept(m.group(1));\n            //\u6263\u9664\u6b21\u6570\n            tbUserKeyDAO.useOnece(3,message.getApiKey());\n        } else {\n            send.accept(\"\u56fe\u7247\u751f\u6210\u5931\u8d25\uff01\");\n        }\n    }\n\n    public void sendResponse(Message message, Consumer<String> send) throws IOException {\n        TbUserKeyQuery userKeyQuery = new TbUserKeyQuery();\n        userKeyQuery.setUserKey(message.getApiKey());\n        TbUserKeyEntity tbUserKeyEntity = tbUserKeyDAO.queryForObject(userKeyQuery);", "    public void sendResponse(Message message, Consumer<String> send) throws IOException {\n        TbUserKeyQuery userKeyQuery = new TbUserKeyQuery();\n        userKeyQuery.setUserKey(message.getApiKey());\n        TbUserKeyEntity tbUserKeyEntity = tbUserKeyDAO.queryForObject(userKeyQuery);\n        if(StringUtils.isBlank(message.getApiKey()) || tbUserKeyEntity == null || !tbUserKeyEntity.getValidStatus().equals(\"1\")){\n            send.accept(\"user key\u65e0\u6548,\u8bf7\u5728\u9875\u9762\u5de6\u4e0b\u89d2\u8bbe\u7f6e\u6b63\u786e\u7684key\uff01\");\n            return;\n        }\n        if(tbUserKeyEntity.getRemainingCount() <= 0){\n            send.accept(\"user key\u6b21\u6570\u5df2\u8017\u5c3d\uff01\");\n            return;\n        }\n        TbApikeyQuery apikeyQuery = new TbApikeyQuery();\n        apikeyQuery.setValidStatus(\"1\");\n        apikeyQuery.setEndDate(DateUtil.getCurrDate());\n        apikeyQuery.setOrder(\"balance desc,use_times asc\");\n        TbApikeyEntity tbApikeyEntity = tbApikeyDAO.queryForObject(apikeyQuery);\n        String key = tbApikeyEntity.getApiKey();\n        tbApikeyDAO.useOnece(key);", "        if(tbUserKeyEntity.getRemainingCount() <= 0){\n            send.accept(\"user key\u6b21\u6570\u5df2\u8017\u5c3d\uff01\");\n            return;\n        }\n        TbApikeyQuery apikeyQuery = new TbApikeyQuery();\n        apikeyQuery.setValidStatus(\"1\");\n        apikeyQuery.setEndDate(DateUtil.getCurrDate());\n        apikeyQuery.setOrder(\"balance desc,use_times asc\");\n        TbApikeyEntity tbApikeyEntity = tbApikeyDAO.queryForObject(apikeyQuery);\n        String key = tbApikeyEntity.getApiKey();\n        tbApikeyDAO.useOnece(key);", "        if (Objects.equals(message.getType(), Message.MessageType.IMAGE)) {\n            genImage(message, key, send);\n            return;\n        }\n\n        // \u6784\u5efa\u5bf9\u8bdd\u53c2\u6570\n        List<Map<String, String>> messages = message.getMessage().stream().map(msg -> {\n            Map<String, String> userMessage = MapUtil.of(\n                    \"role\", \"user\"\n            );\n            userMessage.put(\"content\", msg);\n            return userMessage;\n        }).collect(Collectors.toList());\n\n\n        // \u6784\u5efa\u8bf7\u6c42\u53c2\u6570\n        HashMap<Object, Object> params = new HashMap<>();\n        params.put(\"stream\", true);\n        params.put(\"model\", openAiConfig.getModel());\n        params.put(\"messages\", messages);\n\n        // \u8c03\u7528\u63a5\u53e3\n        HttpResponse result;", "        try {\n            result = HttpRequest.post(openAiConfig.getOpenaiApi())\n                    .header(Header.CONTENT_TYPE, \"application/json\")\n                    .header(Header.AUTHORIZATION, \"Bearer \" + key)\n                    .body(JSONUtil.toJsonStr(params))\n                    .executeAsync();\n        } catch (Exception e) {\n            send.accept(String.join(\"\", \"\u51fa\u9519\u4e86\", e.getMessage()));\n            send.accept(\"END\");\n            return;\n        }\n        // \u5904\u7406\u6570\u636e\n        String line;\n        assert result != null;\n        BufferedReader reader = new BufferedReader(new InputStreamReader(result.bodyStream()));\n        boolean printErrorMsg = false;\n        StringBuilder errMsg = new StringBuilder();\n        Boolean userflag = false;", "        while ((line = reader.readLine()) != null) {\n            String msgResult = UnicodeUtil.toString(line);\n\n            // \u6b63\u5219\u5339\u914d\u9519\u8bef\u4fe1\u606f\n            if (msgResult.contains(\"\\\"error\\\":\")) {\n                printErrorMsg = true;\n            }\n            // \u5982\u679c\u51fa\u9519\uff0c\u6253\u5370\u9519\u8bef\u4fe1\u606f\n            if (printErrorMsg) {\n                errMsg.append(msgResult);\n            } else if (msgResult.contains(\"content\")) {\n                String data = JSONUtil.parseObj(line.substring(5)).getByPath(\"choices[0].delta.content\").toString();\n                send.accept(data);\n                //\u6263\u9664\u6b21\u6570\n                userflag = true;\n            }\n        }", "            if (printErrorMsg) {\n                errMsg.append(msgResult);\n            } else if (msgResult.contains(\"content\")) {\n                String data = JSONUtil.parseObj(line.substring(5)).getByPath(\"choices[0].delta.content\").toString();\n                send.accept(data);\n                //\u6263\u9664\u6b21\u6570\n                userflag = true;\n            }\n        }\n        if(userflag){\n            //\u8fd9\u91cc\u53ef\u4ee5\u8c03\u6574\u6d88\u8017\u6b21\u6570\n            tbUserKeyDAO.useOnece(message.getMessage().size() > 1 ? message.getMessage().size()/2 : 1,message.getApiKey());\n        }\n        // \u5173\u95ed\u6d41\n        reader.close();\n        // \u5982\u679c\u51fa\u9519\uff0c\u629b\u51fa\u5f02\u5e38", "        if(userflag){\n            //\u8fd9\u91cc\u53ef\u4ee5\u8c03\u6574\u6d88\u8017\u6b21\u6570\n            tbUserKeyDAO.useOnece(message.getMessage().size() > 1 ? message.getMessage().size()/2 : 1,message.getApiKey());\n        }\n        // \u5173\u95ed\u6d41\n        reader.close();\n        // \u5982\u679c\u51fa\u9519\uff0c\u629b\u51fa\u5f02\u5e38\n        if (printErrorMsg) {\n            send.accept(errMsg.toString());\n            send.accept(\"END\");\n        }\n        send.accept(\"END\");\n    }\n", "    public QueryUserBalanceResponse queryUserBalance(QueryUserBalanceRequest request){\n        QueryUserBalanceResponse response = new QueryUserBalanceResponse();\n        TbUserKeyQuery query = new TbUserKeyQuery();\n        query.setUserKey(request.getKey());\n        TbUserKeyEntity tbUserKeyEntity = tbUserKeyDAO.queryForObject(query);\n        if(tbUserKeyEntity == null){\n            return response;\n        }\n        response.setExpireDate(tbUserKeyEntity.getExpireDate());\n        response.setRemainingCount(tbUserKeyEntity.getRemainingCount());\n        return response;\n    }\n}\n"]}
{"filename": "src/main/java/com/home/chat/services/ChatConfig.java", "chunked_list": ["package com.home.chat.services;\n\nimport com.home.chat.dao.TbApikeyDAO;\nimport com.home.chat.dao.TbUserKeyDAO;\nimport com.home.chat.pojo.Constant;\nimport com.home.chat.pojo.entity.TbApikeyEntity;\nimport com.home.chat.pojo.query.TbApikeyQuery;\nimport com.home.chat.redis.RedisDataHelper;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;", "import lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport javax.annotation.PostConstruct;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n", "import java.util.stream.Collectors;\n\n/**\n * @Deacription TODO\n * @Author Zhangmj\n * @Date 2023/4/10 17:20\n * @Version 1.0\n **/\n@Service\n@Slf4j\npublic class ChatConfig {\n\n    @Autowired\n    TbApikeyDAO tbApikeyDAO;\n\n    @Autowired\n    TbUserKeyDAO tbUserKeyDAO;\n\n    @Autowired\n    RedisDataHelper redisDataHelper;\n\n\n    @PostConstruct", "@Service\n@Slf4j\npublic class ChatConfig {\n\n    @Autowired\n    TbApikeyDAO tbApikeyDAO;\n\n    @Autowired\n    TbUserKeyDAO tbUserKeyDAO;\n\n    @Autowired\n    RedisDataHelper redisDataHelper;\n\n\n    @PostConstruct", "    public void initOutConfig() {\n        loadingOutConfig();\n    }\n\n    private void loadingOutConfig(){\n        log.info(\"################## \u5f00\u59cb\u52a0\u8f7d\u914d\u7f6e #####################\");\n        List<TbApikeyEntity> tbApikeyEntities = tbApikeyDAO.queryForList(new TbApikeyQuery());\n        Map<String, Object> apikeyMap = tbApikeyEntities.stream().collect(Collectors.toMap(TbApikeyEntity::getApiKey, Function.identity()));\n        redisDataHelper.setKey(Constant.API_KEY_,apikeyMap);\n        log.info(\"################## \u7ed3\u675f\u52a0\u8f7d\u914d\u7f6e #####################\");\n    }\n\n}\n"]}
{"filename": "src/main/java/com/home/chat/services/SensitiveWordsConfig.java", "chunked_list": ["package com.home.chat.services;\n\nimport com.home.chat.pojo.Constant;\nimport com.home.chat.redis.RedisDataHelper;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport javax.annotation.PostConstruct;\nimport java.util.HashMap;", "import javax.annotation.PostConstruct;\nimport java.util.HashMap;\n\n/**\n * @Deacription TODO\n * @Author Zhangmj\n * @Date 2023/4/11 10:41\n * @Version 1.0\n **/\n@Service", " **/\n@Service\n@Slf4j\npublic class SensitiveWordsConfig {\n\n\n\n    @Autowired\n    RedisDataHelper redisDataHelper;\n\n\n    @PostConstruct", "    public void iniSensitiveWords() {\n        loadingSensitiveWords();\n    }\n\n    private void loadingSensitiveWords(){\n        log.info(\"################## \u5f00\u59cb\u52a0\u8f7d\u654f\u611f\u8bcd\u914d\u7f6e #####################\");\n        //\u521d\u59cb\u5316\u654f\u611f\u8bcd\u8fc7\u6ee4\u5668\uff0c\u7528\u4e8e\u8bb0\u5f55\u89e6\u53d1\u654f\u611f\u8bcd\u6b21\u6570\u3002\n        HashMap<String,Object> scanTimes = new HashMap<>();\n        redisDataHelper.setKey(Constant.SENSITIVE_WORDS_SCAN,scanTimes);\n        log.info(\"################## \u7ed3\u675f\u52a0\u8f7d\u654f\u611f\u8bcd\u914d\u7f6e#####################\");\n    }\n\n}\n"]}
{"filename": "src/main/java/com/home/chat/controllers/ChatgptController.java", "chunked_list": ["package com.home.chat.controllers;\n\nimport cn.hutool.json.JSONObject;\nimport com.home.chat.controllers.request.Message;\nimport com.home.chat.controllers.request.QueryUserBalanceRequest;\nimport com.home.chat.controllers.response.QueryBalanceResponse;\nimport com.home.chat.controllers.response.QueryUserBalanceResponse;\nimport com.home.chat.pojo.Constant;\nimport com.home.chat.services.ChatGPTService;\nimport com.home.chat.redis.RedisDataHelper;", "import com.home.chat.services.ChatGPTService;\nimport com.home.chat.redis.RedisDataHelper;\nimport com.home.chat.utils.SensitiveWordsUtils;\nimport lombok.RequiredArgsConstructor;\nimport org.apache.commons.lang3.StringUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;", "import org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.util.List;", "import java.io.OutputStream;\nimport java.util.List;\n\n@RestController\n@RequestMapping(\"api/chat\")\n@RequiredArgsConstructor\n@ResponseBody\npublic class ChatgptController {\n    private final ChatGPTService gptService;\n\n    @Autowired\n    RedisDataHelper redisDataHelper;\n\n    @GetMapping(\"/balances\")", "    public QueryBalanceResponse queryBalanceResponse(@RequestParam(required = false) String apiKey) {\n        return gptService.creditQuery(apiKey);\n    }\n\n    @PostMapping(\"send\")\n    public void stream(@RequestBody Message message,\n                       HttpServletResponse response) throws IOException {\n        OutputStream outputStream = response.getOutputStream();\n        if(!message.getMessage().isEmpty()){\n            //\u654f\u611f\u8bcd\u68c0\u6d4b\n            for (String content : message.getMessage()){\n                List<String> filter = SensitiveWordsUtils.checkBadwords(content);", "        if(!message.getMessage().isEmpty()){\n            //\u654f\u611f\u8bcd\u68c0\u6d4b\n            for (String content : message.getMessage()){\n                List<String> filter = SensitiveWordsUtils.checkBadwords(content);\n                if(!filter.isEmpty()){\n                    outputStream.write(\"\u8bf7\u52ff\u8f93\u5165\u654f\u611f\u8bcd\u6c47\uff01\u8d85\u8fc75\u6b21\u5c06\u8fdb\u884c\u5c01\u53f7\u5904\u7406\uff01\".getBytes());\n                    Object scanTimes = redisDataHelper.getValue(Constant.SENSITIVE_WORDS_SCAN, message.getApiKey());\n                    redisDataHelper.hput(Constant.SENSITIVE_WORDS_SCAN, message.getApiKey(),scanTimes != null ? (int)scanTimes + 1 : 1);\n                    outputStream.flush();\n                    outputStream.close();\n                    return;\n                }\n            }\n        }\n\n        response.setContentType(\"application/octet-stream\");\n        gptService.sendResponse(message, (str) -> {", "            try {\n                if (!\"END\".equals(str)) {\n                    outputStream.write(str.getBytes());\n                    outputStream.flush();\n                }\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n\n        });\n        outputStream.close();\n    }\n\n    /**\n     *\n     * @param request\n     * @return [request]\n     * @author zhangmj\n     * @date 2023/4/10 16:55\n     * @Description userBalances \u67e5\u8be2\u5269\u4f59\u4f7f\u7528\u91cf\n     * @version 1.0\n     * @since JDK 1.8\n     **/\n    @PostMapping(\"/userBalances\")", "    public JSONObject userBalances(@RequestBody QueryUserBalanceRequest request){\n        JSONObject jo = new JSONObject();\n        if(StringUtils.isBlank(request.getKey())){\n            QueryUserBalanceResponse response = new QueryUserBalanceResponse();\n            response.setMessage(\"\u8bf7\u8f93\u5165UserKey\u8fdb\u884c\u67e5\u8be2\");\n            jo.set(\"data\",response);\n            jo.set(\"status\",\"Fail\");\n            return jo;\n        }\n        jo.set(\"status\",\"Success\");\n        jo.set(\"data\",gptService.queryUserBalance(request));\n        return jo;\n    }\n}\n"]}
{"filename": "src/main/java/com/home/chat/controllers/ConfigController.java", "chunked_list": ["package com.home.chat.controllers;\n\nimport com.home.chat.domain.ChatWebConfig;\nimport com.home.chat.domain.common.BusinessException;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;", "import org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Objects;\n\n@RestController\n@ResponseBody\n@RequestMapping(\"api/configs\")\n@RequiredArgsConstructor\npublic class ConfigController {\n\n    private final ChatWebConfig config;\n\n    @GetMapping", "@RequiredArgsConstructor\npublic class ConfigController {\n\n    private final ChatWebConfig config;\n\n    @GetMapping\n    public String getConfig() {\n        return config.getContent();\n    }\n\n    @GetMapping(\"/content/{authToken}/{content}\")", "    public String replaceContent(@PathVariable String authToken, @PathVariable String content) throws BusinessException {\n        if (Objects.equals(config.getAuth(), authToken)) {\n            config.setContent(content);\n            return \"\u8bbe\u7f6e\u6210\u529f\uff0c\u8bf7\u5237\u65b0 ChatGPT \u9875\u9762\";\n        }\n\n        return \"auth token \u4e0d\u6b63\u786e\";\n    }\n\n\n    @GetMapping(\"/token/{authToken}/{newToken}\")", "    public String replaceToken(@PathVariable String authToken, @PathVariable String newToken) throws BusinessException {\n        if (Objects.equals(config.getAuth(), authToken)) {\n            config.setAuth(newToken);\n            return \"\u8bbe\u7f6e\u6210\u529f\u65b0\u7684 token \u662f\" + newToken;\n        }\n\n        return \"auth token \u4e0d\u6b63\u786e\";\n    }\n\n    @GetMapping(\"/free/{authToken}/{key}\")\n    public String replaceKey(@PathVariable String authToken, @PathVariable String key) throws BusinessException {", "    public String replaceKey(@PathVariable String authToken, @PathVariable String key) throws BusinessException {\n        if (Objects.equals(config.getAuth(), authToken)) {\n            config.setFreeApiKey(key);\n            return \"\u8bbe\u7f6e\u6210\u529f\";\n        }\n\n        return \"auth token \u4e0d\u6b63\u786e\";\n    }\n\n    @GetMapping(\"/reset/{authToken}\")\n    public String reset(@PathVariable String authToken) {", "    public String reset(@PathVariable String authToken) {\n        if (Objects.equals(config.getAuth(), authToken)) {\n            config.setFreeApiKey(null);\n            return \"\u91cd\u7f6e\u6210\u529f\";\n        }\n        return \"auth token \u4e0d\u6b63\u786e\";\n    }\n\n}\n"]}
{"filename": "src/main/java/com/home/chat/controllers/response/QueryBalanceResponse.java", "chunked_list": ["package com.home.chat.controllers.response;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\n\nimport java.math.BigDecimal;\nimport java.util.Optional;\n", "import java.util.Optional;\n\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class QueryBalanceResponse {\n    private String balances;\n\n    public boolean willExpired() {\n        BigDecimal balance = Optional.ofNullable(balances).map(BigDecimal::new).orElse(BigDecimal.ZERO);\n        return balance.compareTo(new BigDecimal(\"0.2\")) < 0;\n    }\n}\n", "    public boolean willExpired() {\n        BigDecimal balance = Optional.ofNullable(balances).map(BigDecimal::new).orElse(BigDecimal.ZERO);\n        return balance.compareTo(new BigDecimal(\"0.2\")) < 0;\n    }\n}\n"]}
{"filename": "src/main/java/com/home/chat/controllers/response/QueryUserBalanceResponse.java", "chunked_list": ["package com.home.chat.controllers.response;\n\nimport lombok.*;\n\n/**\n * @Deacription TODO\n * @Author Zhangmj\n * @Date 2023/4/10 16:43\n * @Version 1.0\n **/", " * @Version 1.0\n **/\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class QueryUserBalanceResponse  {\n\n\n\n    //\u8fc7\u671f\u65f6\u95f4\n    private Long expireDate;\n\n    //\u5269\u4f59\u6b21\u6570\n    private Long remainingCount;\n\n    private String message;\n\n\n}\n"]}
{"filename": "src/main/java/com/home/chat/controllers/request/QueryUserBalanceRequest.java", "chunked_list": ["package com.home.chat.controllers.request;\n\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.Getter;\nimport lombok.Setter;\n\n/**\n * @Deacription TODO\n * @Author Zhangmj", " * @Deacription TODO\n * @Author Zhangmj\n * @Date 2023/4/10 16:54\n * @Version 1.0\n **/\n@Setter\n@Getter\n@Data\npublic class QueryUserBalanceRequest {\n\n    private String key;\n\n}\n", "public class QueryUserBalanceRequest {\n\n    private String key;\n\n}\n"]}
{"filename": "src/main/java/com/home/chat/controllers/request/Message.java", "chunked_list": ["package com.home.chat.controllers.request;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport java.util.List;\n\n@Setter\n@Getter\npublic class Message {\n    private String apiKey;\n    private List<String> message;\n    private int version;\n    private MessageType type;\n\n", "@Getter\npublic class Message {\n    private String apiKey;\n    private List<String> message;\n    private int version;\n    private MessageType type;\n\n\n    public enum MessageType {\n        TEXT, IMAGE\n    }\n}\n", "    public enum MessageType {\n        TEXT, IMAGE\n    }\n}\n"]}
{"filename": "src/main/java/com/home/chat/controllers/request/NotificationMessage.java", "chunked_list": ["package com.home.chat.controllers.request;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Setter\n@Getter", "@Setter\n@Getter\n@Builder\npublic class NotificationMessage {\n    @Builder.Default\n    private String msgtype = \"text\";\n    private Content text;\n\n    @Setter\n    @Getter\n    @NoArgsConstructor\n    @AllArgsConstructor", "    public static class Content{\n        private String content;\n    }\n}\n"]}
